webpackJsonp([54],{2103:function(l,n,u){"use strict";function t(l){return b._57(0,[(l()(),b._31(0,0,null,null,11,null,null,null,null,null,null,null)),(l()(),b._55(-1,null,["\n                "])),(l()(),b._31(2,0,null,null,8,"ion-avatar",[],null,null,null,null,null)),b._30(3,16384,null,0,W.a,[],null,null),(l()(),b._55(-1,null,["\n                    "])),(l()(),b._55(-1,null,["\n                    "])),(l()(),b._31(6,0,null,null,3,"img",[["class","avatar"],["core-external-content",""],["onError","this.src='assets/img/user-avatar.png'"],["role","presentation"]],[[8,"alt",0]],null,null,null,null)),b._30(7,4734976,null,0,G.a,[b.t,J.a,z.a,Q.a,P.a,I.a,X.a,k.a,Y.a],{siteId:[0,"siteId"],src:[1,"src"]},null),b._48(8,{$a:0}),b._47(131072,Z.a,[ll.a,b.j]),(l()(),b._55(-1,null,["\n                "])),(l()(),b._55(-1,null,["\n            "]))],function(l,n){var u=n.component;l(n,7,0,u.site.id,u.site.avatar)},function(l,n){var u=n.component;l(n,6,0,b._34(1,"",b._56(n,6,0,b._44(n,9).transform("core.pictureof",l(n,8,0,u.site.fullname))),""))})}function e(l){return b._57(0,[(l()(),b._31(0,0,null,null,1,"img",[["core-external-content",""],["role","presentation"]],null,null,null,null,null)),b._30(1,4734976,null,0,G.a,[b.t,J.a,z.a,Q.a,P.a,I.a,X.a,k.a,Y.a],{siteId:[0,"siteId"],src:[1,"src"]},null)],function(l,n){var u=n.component;l(n,1,0,u.site.id,u.logoUrl)},null)}function o(l){return b._57(0,[(l()(),b._31(0,0,null,null,0,"img",[["class","login-logo"],["role","presentation"],["src","assets/img/login_logo.png"]],null,null,null,null,null))],null,null)}function a(l){return b._57(0,[(l()(),b._31(0,0,null,null,8,null,null,null,null,null,null,null)),(l()(),b._55(-1,null,["\n                "])),(l()(),b._55(-1,null,["\n                "])),(l()(),b._26(16777216,null,null,1,null,e)),b._30(4,16384,null,0,nl.k,[b._11,b._6],{ngIf:[0,"ngIf"]},null),(l()(),b._55(-1,null,["\n                "])),(l()(),b._26(16777216,null,null,1,null,o)),b._30(7,16384,null,0,nl.k,[b._11,b._6],{ngIf:[0,"ngIf"]},null),(l()(),b._55(-1,null,["\n            "]))],function(l,n){var u=n.component;l(n,4,0,u.logoUrl);l(n,7,0,!u.logoUrl)},null)}function i(l){return b._57(0,[(l()(),b._31(0,0,null,null,1,"p",[["class","item-heading core-siteurl"]],null,null,null,null,null)),(l()(),b._55(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.siteUrl)})}function r(l){return b._57(0,[(l()(),b._31(0,0,null,null,2,"p",[["class","item-heading core-sitename"]],null,null,null,null,null)),(l()(),b._31(1,16777216,null,null,1,"core-format-text",[],null,null,null,null,null)),b._30(2,540672,null,0,ul.a,[b.t,P.a,I.a,tl.a,ll.a,Q.a,Y.a,X.a,J.a,z.a,k.a,el.a,[2,ol.a],[2,al.a],[2,il.a],rl.a,sl.a,_l.a,cl.a,gl.a,b._11],{text:[0,"text"],filter:[1,"filter"]},null)],function(l,n){l(n,2,0,n.component.siteName,!1)},null)}function s(l){return b._57(0,[(l()(),b._31(0,0,null,null,1,"p",[["class","core-siteurl"]],null,null,null,null,null)),(l()(),b._55(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.siteUrl)})}function _(l){return b._57(0,[(l()(),b._31(0,0,null,null,5,"p",[],null,null,null,null,null)),(l()(),b._55(-1,null,["\n                "])),(l()(),b._31(2,0,null,null,1,"ion-icon",[["name","alert"],["padding",""],["role","img"]],[[2,"hide",null]],null,null,null,null)),b._30(3,147456,null,0,fl.a,[dl.a,b.t,b.V],{name:[0,"name"]},null),(l()(),b._55(4,null,[" ","\n            "])),b._47(131072,Z.a,[ll.a,b.j])],function(l,n){l(n,3,0,"alert")},function(l,n){l(n,2,0,b._44(n,3)._hidden);l(n,4,0,b._56(n,4,0,b._44(n,5).transform("core.login.reconnectdescription")))})}function c(l){return b._57(0,[(l()(),b._31(0,0,null,null,23,"div",[["margin-bottom",""],["text-center",""],["text-wrap",""]],null,null,null,null,null)),b._30(1,278528,null,0,nl.i,[b.E,b.F,b.t,b.W],{ngClass:[0,"ngClass"]},null),b._48(2,{"item-avatar-center":0}),(l()(),b._55(-1,null,["\n            "])),(l()(),b._26(16777216,null,null,1,null,t)),b._30(5,16384,null,0,nl.k,[b._11,b._6],{ngIf:[0,"ngIf"]},null),(l()(),b._55(-1,null,["\n\n            "])),(l()(),b._26(16777216,null,null,1,null,a)),b._30(8,16384,null,0,nl.k,[b._11,b._6],{ngIf:[0,"ngIf"]},null),(l()(),b._55(-1,null,["\n\n            "])),(l()(),b._55(-1,null,["\n            "])),(l()(),b._26(16777216,null,null,1,null,i)),b._30(12,16384,null,0,nl.k,[b._11,b._6],{ngIf:[0,"ngIf"]},null),(l()(),b._55(-1,null,["\n            "])),(l()(),b._55(-1,null,["\n            "])),(l()(),b._26(16777216,null,null,1,null,r)),b._30(16,16384,null,0,nl.k,[b._11,b._6],{ngIf:[0,"ngIf"]},null),(l()(),b._55(-1,null,["\n            "])),(l()(),b._26(16777216,null,null,1,null,s)),b._30(19,16384,null,0,nl.k,[b._11,b._6],{ngIf:[0,"ngIf"]},null),(l()(),b._55(-1,null,["\n\n            "])),(l()(),b._26(16777216,null,null,1,null,_)),b._30(22,16384,null,0,nl.k,[b._11,b._6],{ngIf:[0,"ngIf"]},null),(l()(),b._55(-1,null,["\n        "]))],function(l,n){var u=n.component;l(n,1,0,l(n,2,0,u.showSiteAvatar));l(n,5,0,u.showSiteAvatar);l(n,8,0,!u.showSiteAvatar);l(n,12,0,!u.siteName);l(n,16,0,u.siteName);l(n,19,0,u.siteName);l(n,22,0,!u.isLoggedOut)},null)}function g(l){return b._57(0,[(l()(),b._31(0,0,null,null,61,"form",[["class","core-login-form"],["ion-list",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var t=!0,e=l.component;if("submit"===n){t=!1!==b._44(l,2).onSubmit(u)&&t}if("reset"===n){t=!1!==b._44(l,2).onReset()&&t}if("ngSubmit"===n){t=!1!==e.login(u)&&t}return t},null,null)),b._30(1,16384,null,0,y.w,[],null,null),b._30(2,540672,null,0,y.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),b._50(2048,null,y.b,null,[y.h]),b._30(4,16384,null,0,y.o,[y.b],null,null),(l()(),b._55(-1,null,["\n            "])),(l()(),b._31(6,0,null,null,9,"ion-item",[["class","core-username item item-block"],["text-wrap",""]],null,null,null,pl.b,pl.a)),b._30(7,1097728,null,3,ml.a,[hl.a,dl.a,b.t,b.V,[2,bl.a]],null,null),b._52(335544320,1,{contentLabel:0}),b._52(603979776,2,{_buttons:1}),b._52(603979776,3,{_icons:1}),b._30(11,16384,null,0,vl.a,[],null,null),(l()(),b._55(-1,2,["\n                "])),(l()(),b._31(13,0,null,2,1,"p",[],null,null,null,null,null)),(l()(),b._55(14,null,["",""])),(l()(),b._55(-1,2,["\n            "])),(l()(),b._55(-1,null,["\n            "])),(l()(),b._31(17,0,null,null,17,"ion-item",[["class","item item-block"],["margin-bottom",""]],null,null,null,pl.b,pl.a)),b._30(18,1097728,null,3,ml.a,[hl.a,dl.a,b.t,b.V,[2,bl.a]],null,null),b._52(335544320,4,{contentLabel:0}),b._52(603979776,5,{_buttons:1}),b._52(603979776,6,{_icons:1}),b._30(22,16384,null,0,vl.a,[],null,null),(l()(),b._55(-1,2,["\n                "])),(l()(),b._31(24,0,null,3,9,"core-show-password",[["item-content",""]],null,null,null,wl.b,wl.a)),b._30(25,4308992,null,0,kl.a,[b.t,Y.a,I.a,Q.a],{name:[0,"name"]},null),(l()(),b._55(-1,0,["\n                    "])),(l()(),b._31(27,0,null,0,5,"ion-input",[["class","core-ioninput-password"],["formControlName","password"],["name","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Pl.b,Pl.a)),b._30(28,671744,null,0,y.f,[[3,y.b],[8,null],[8,null],[8,null]],{name:[0,"name"]},null),b._50(2048,null,y.m,null,[y.f]),b._30(30,16384,null,0,y.n,[y.m],null,null),b._30(31,5423104,null,0,Il.a,[dl.a,Q.a,hl.a,Cl.a,b.t,b.V,[2,al.a],[2,ml.a],[2,y.m],yl.a],{type:[0,"type"],clearOnEdit:[1,"clearOnEdit"],placeholder:[2,"placeholder"]},null),b._47(131072,Z.a,[ll.a,b.j]),(l()(),b._55(-1,0,["\n                "])),(l()(),b._55(-1,2,["\n            "])),(l()(),b._55(-1,null,["\n            "])),(l()(),b._31(36,0,null,null,24,"ion-grid",[["class","grid"],["no-padding",""]],null,null,null,null,null)),b._30(37,16384,null,0,Ul.a,[],null,null),(l()(),b._55(-1,null,["\n                "])),(l()(),b._31(39,0,null,null,20,"ion-row",[["class","row"]],null,null,null,null,null)),b._30(40,16384,null,0,Ol.a,[],null,null),(l()(),b._55(-1,null,["\n                    "])),(l()(),b._31(42,0,null,null,7,"ion-col",[["class","col"]],null,null,null,null,null)),b._30(43,16384,null,0,Vl.a,[],null,null),(l()(),b._55(-1,null,["\n                        "])),(l()(),b._31(45,0,null,null,3,"a",[["block",""],["color","light"],["ion-button",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.cancel(u)&&t}return t},Sl.b,Sl.a)),b._30(46,1097728,null,0,jl.a,[[8,""],dl.a,b.t,b.V],{color:[0,"color"],block:[1,"block"]},null),(l()(),b._55(47,0,["",""])),b._47(131072,Z.a,[ll.a,b.j]),(l()(),b._55(-1,null,["\n                    "])),(l()(),b._55(-1,null,["\n                    "])),(l()(),b._31(51,0,null,null,7,"ion-col",[["class","col"]],null,null,null,null,null)),b._30(52,16384,null,0,Vl.a,[],null,null),(l()(),b._55(-1,null,["\n                        "])),(l()(),b._31(54,0,null,null,3,"button",[["block",""],["ion-button",""]],[[8,"disabled",0]],null,null,Sl.b,Sl.a)),b._30(55,1097728,null,0,jl.a,[[8,""],dl.a,b.t,b.V],{block:[0,"block"]},null),(l()(),b._55(56,0,["",""])),b._47(131072,Z.a,[ll.a,b.j]),(l()(),b._55(-1,null,["\n                    "])),(l()(),b._55(-1,null,["\n                "])),(l()(),b._55(-1,null,["\n            "])),(l()(),b._55(-1,null,["\n        "]))],function(l,n){l(n,2,0,n.component.credForm);l(n,25,0,"password");l(n,28,0,"password");l(n,31,0,"password",!1,b._34(1,"",b._56(n,31,2,b._44(n,32).transform("core.login.password")),""));l(n,46,0,"light","");l(n,55,0,"")},function(l,n){var u=n.component;l(n,0,0,b._44(n,4).ngClassUntouched,b._44(n,4).ngClassTouched,b._44(n,4).ngClassPristine,b._44(n,4).ngClassDirty,b._44(n,4).ngClassValid,b._44(n,4).ngClassInvalid,b._44(n,4).ngClassPending);l(n,14,0,u.username);l(n,27,0,b._44(n,30).ngClassUntouched,b._44(n,30).ngClassTouched,b._44(n,30).ngClassPristine,b._44(n,30).ngClassDirty,b._44(n,30).ngClassValid,b._44(n,30).ngClassInvalid,b._44(n,30).ngClassPending);l(n,47,0,b._56(n,47,0,b._44(n,48).transform("core.login.cancel")));l(n,54,0,!u.credForm.valid);l(n,56,0,b._56(n,56,0,b._44(n,57).transform("core.login.loginbutton")))})}function f(l){return b._57(0,[(l()(),b._31(0,0,null,null,6,"div",[["class","core-login-forgotten-password"],["padding-top",""]],null,null,null,null,null)),(l()(),b._55(-1,null,["\n            "])),(l()(),b._31(2,0,null,null,3,"button",[["block",""],["color","light"],["ion-button",""],["text-wrap",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.forgottenPassword()&&t}return t},Sl.b,Sl.a)),b._30(3,1097728,null,0,jl.a,[[8,""],dl.a,b.t,b.V],{color:[0,"color"],block:[1,"block"]},null),(l()(),b._55(4,0,["",""])),b._47(131072,Z.a,[ll.a,b.j]),(l()(),b._55(-1,null,["\n        "]))],function(l,n){l(n,3,0,"light","")},function(l,n){l(n,4,0,b._56(n,4,0,b._44(n,5).transform("core.login.forgotten")))})}function d(l){return b._57(0,[(l()(),b._31(0,0,null,null,8,"button",[["class","core-oauth-icon item item-block"],["ion-item",""],["text-wrap",""]],[[8,"title",0]],[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.oauthClicked(l.context.$implicit)&&t}return t},pl.b,pl.a)),b._30(1,1097728,null,3,ml.a,[hl.a,dl.a,b.t,b.V,[2,bl.a]],null,null),b._52(335544320,10,{contentLabel:0}),b._52(603979776,11,{_buttons:1}),b._52(603979776,12,{_icons:1}),b._30(5,16384,null,0,vl.a,[],null,null),(l()(),b._55(-1,2,["\n                "])),(l()(),b._31(7,0,null,0,0,"img",[["alt",""],["height","32"],["item-start",""],["width","32"]],[[8,"src",4]],null,null,null,null)),(l()(),b._55(8,2,["\n                ","\n            "]))],null,function(l,n){l(n,0,0,b._34(1,"",n.context.$implicit.name,""));l(n,7,0,n.context.$implicit.iconurl);l(n,8,0,n.context.$implicit.name)})}function p(l){return b._57(0,[(l()(),b._31(0,0,null,null,14,"ion-list",[["class","core-login-identity-providers"],["padding-top",""]],null,null,null,null,null)),b._30(1,16384,null,0,Fl.a,[dl.a,b.t,b.V,Q.a,xl.l,yl.a],null,null),(l()(),b._55(-1,null,["\n            "])),(l()(),b._31(3,0,null,null,7,"ion-list-header",[["class","item"],["text-wrap",""]],null,null,null,pl.b,pl.a)),b._30(4,1097728,null,3,ml.a,[hl.a,dl.a,b.t,b.V,[2,bl.a]],null,null),b._52(335544320,7,{contentLabel:0}),b._52(603979776,8,{_buttons:1}),b._52(603979776,9,{_icons:1}),b._30(8,16384,null,0,Al.a,[dl.a,b.V,b.t,[8,null]],null,null),(l()(),b._55(9,2,["",""])),b._47(131072,Z.a,[ll.a,b.j]),(l()(),b._55(-1,null,["\n            "])),(l()(),b._26(16777216,null,null,1,null,d)),b._30(13,802816,null,0,nl.j,[b._11,b._6,b.E],{ngForOf:[0,"ngForOf"]},null),(l()(),b._55(-1,null,["\n        "]))],function(l,n){l(n,13,0,n.component.identityProviders)},function(l,n){l(n,9,0,b._56(n,9,0,b._44(n,10).transform("core.login.potentialidps")))})}function m(l){return b._57(0,[(l()(),b._31(0,0,null,null,15,"ion-list",[],null,null,null,null,null)),b._30(1,16384,null,0,Fl.a,[dl.a,b.t,b.V,Q.a,xl.l,yl.a],null,null),(l()(),b._55(-1,null,["\n            "])),(l()(),b._31(3,0,null,null,11,"ion-item",[["class","item item-block"]],null,null,null,pl.b,pl.a)),b._30(4,1097728,null,3,ml.a,[hl.a,dl.a,b.t,b.V,[2,bl.a]],null,null),b._52(335544320,13,{contentLabel:0}),b._52(603979776,14,{_buttons:1}),b._52(603979776,15,{_icons:1}),b._30(8,16384,null,0,vl.a,[],null,null),(l()(),b._55(-1,2,["\n                "])),(l()(),b._31(10,0,null,2,3,"a",[["block",""],["color","light"],["ion-button",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.cancel(u)&&t}return t},Sl.b,Sl.a)),b._30(11,1097728,[[14,4]],0,jl.a,[[8,""],dl.a,b.t,b.V],{color:[0,"color"],block:[1,"block"]},null),(l()(),b._55(12,0,["",""])),b._47(131072,Z.a,[ll.a,b.j]),(l()(),b._55(-1,2,["\n            "])),(l()(),b._55(-1,null,["\n        "]))],function(l,n){l(n,11,0,"light","")},function(l,n){l(n,12,0,b._56(n,12,0,b._44(n,13).transform("core.login.cancel")))})}function h(l){return b._57(0,[(l()(),b._31(0,0,null,null,12,"ion-header",[],null,null,null,null,null)),b._30(1,16384,null,0,Dl.a,[dl.a,b.t,b.V,[2,Rl.a]],null,null),(l()(),b._55(-1,null,["\n    "])),(l()(),b._31(3,0,null,null,8,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Ll.b,Ll.a)),b._30(4,49152,null,0,El.a,[Cl.a,[2,Rl.a],[2,ol.a],dl.a,b.t,b.V],null,null),b._30(5,212992,null,0,Nl.a,[El.a,Q.a,ll.a,sl.a],null,null),(l()(),b._55(-1,3,["\n        "])),(l()(),b._31(7,0,null,3,3,"ion-title",[],null,null,null,Hl.b,Hl.a)),b._30(8,49152,null,0,Ml.a,[dl.a,b.t,b.V,[2,Tl.a],[2,El.a]],null,null),(l()(),b._55(9,0,["",""])),b._47(131072,Z.a,[ll.a,b.j]),(l()(),b._55(-1,3,["\n    "])),(l()(),b._55(-1,null,["\n"])),(l()(),b._55(-1,null,["\n"])),(l()(),b._31(14,0,null,null,23,"ion-content",[["class","core-center-view"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,$l.b,$l.a)),b._30(15,4374528,null,0,al.a,[dl.a,Q.a,yl.a,b.t,b.V,Cl.a,ql.a,b.M,[2,Rl.a],[2,ol.a]],null,null),(l()(),b._55(-1,1,["\n    "])),(l()(),b._31(17,0,null,1,19,"div",[["class","box"]],null,null,null,null,null)),(l()(),b._55(-1,null,["\n        "])),(l()(),b._26(16777216,null,null,1,null,c)),b._30(20,16384,null,0,nl.k,[b._11,b._6],{ngIf:[0,"ngIf"]},null),(l()(),b._55(-1,null,["\n        "])),(l()(),b._26(16777216,null,null,1,null,g)),b._30(23,16384,null,0,nl.k,[b._11,b._6],{ngIf:[0,"ngIf"]},null),(l()(),b._55(-1,null,["\n\n        "])),(l()(),b._55(-1,null,["\n        "])),(l()(),b._26(16777216,null,null,1,null,f)),b._30(27,16384,null,0,nl.k,[b._11,b._6],{ngIf:[0,"ngIf"]},null),(l()(),b._55(-1,null,["\n\n        "])),(l()(),b._55(-1,null,["\n        "])),(l()(),b._26(16777216,null,null,1,null,p)),b._30(31,16384,null,0,nl.k,[b._11,b._6],{ngIf:[0,"ngIf"]},null),(l()(),b._55(-1,null,["\n\n        "])),(l()(),b._55(-1,null,["\n        "])),(l()(),b._26(16777216,null,null,1,null,m)),b._30(35,16384,null,0,nl.k,[b._11,b._6],{ngIf:[0,"ngIf"]},null),(l()(),b._55(-1,null,["\n    "])),(l()(),b._55(-1,1,["\n"])),(l()(),b._55(-1,null,["\n"]))],function(l,n){var u=n.component;l(n,5,0);l(n,20,0,u.site);l(n,23,0,!u.isOAuth);l(n,27,0,u.showForgottenPassword&&!u.isOAuth);l(n,31,0,u.identityProviders&&u.identityProviders.length);l(n,35,0,u.isOAuth)},function(l,n){l(n,3,0,b._44(n,4)._hidden,b._44(n,4)._sbPadding);l(n,9,0,b._56(n,9,0,b._44(n,10).transform("core.login.reconnect")));l(n,14,0,b._44(n,15).statusbarPadding,b._44(n,15)._hasRefresher)})}Object.defineProperty(n,"__esModule",{value:!0});var b=u(0),v=u(5),w=u(3),k=u(9),P=u(1),I=u(4),C=u(127),y=u(23),U=this&&this.__decorate||function(l,n,u,t){var e,o=arguments.length,a=o<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,u):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(l,n,u,t);else for(var i=l.length-1;i>=0;i--)(e=l[i])&&(a=(o<3?e(a):o>3?e(n,u,a):e(n,u))||a);return o>3&&a&&Object.defineProperty(n,u,a),a},O=this&&this.__metadata||function(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,n)},V=function(){function l(l,n,u,t,e,o,a){this.navCtrl=l,this.appProvider=t,this.sitesProvider=e,this.loginHelper=o,this.domUtils=a,this.showForgottenPassword=!0,this.showSiteAvatar=!1,this.isOAuth=!1;var i=this.sitesProvider.getCurrentSite();this.infoSiteUrl=n.get("infoSiteUrl"),this.pageName=n.get("pageName"),this.pageParams=n.get("pageParams"),this.siteConfig=n.get("siteConfig"),this.siteUrl=n.get("siteUrl"),this.siteId=n.get("siteId"),this.isLoggedOut=i&&i.isLoggedOut(),this.credForm=u.group({password:["",y.u.required]})}return l.prototype.ionViewDidLoad=function(){var l=this;this.siteConfig&&this.getDataFromConfig(this.siteConfig),this.sitesProvider.getSite(this.siteId).then(function(n){return l.site={id:n.id,fullname:n.infos.fullname,avatar:n.infos.userpictureurl},l.username=n.infos.username,l.siteUrl=n.infos.siteurl,l.siteName=n.getSiteName(),l.isOAuth=n.isOAuth(),l.showSiteAvatar=l.site.avatar&&!l.loginHelper.getFixedSites(),n.getPublicConfig().then(function(u){return l.sitesProvider.checkRequiredMinimumVersion(u).then(function(){l.site.avatar.startsWith(n.infos.siteurl+"/theme/image.php")&&(l.showSiteAvatar=!1,l.logoUrl=u.logourl||u.compactlogourl),l.getDataFromConfig(l.siteConfig)}).catch(function(){l.cancel()})}).catch(function(){})}).catch(function(){l.cancel()})},l.prototype.getDataFromConfig=function(l){var n=this.loginHelper.getDisabledFeatures(l);this.identityProviders=this.loginHelper.getValidIdentityProviders(l,n),this.showForgottenPassword=!this.loginHelper.isForgottenPasswordDisabled(l)},l.prototype.cancel=function(l){l&&(l.preventDefault(),l.stopPropagation()),this.sitesProvider.logout()},l.prototype.login=function(l){var n=this;l.preventDefault(),l.stopPropagation(),this.appProvider.closeKeyboard();var u=this.siteUrl,t=this.username,e=this.credForm.value.password;if(e)if(this.appProvider.isOnline()){var o=this.domUtils.showModalLoading();this.sitesProvider.getUserToken(u,t,e).then(function(l){return n.sitesProvider.updateSiteToken(n.infoSiteUrl,t,l.token,l.privateToken).then(function(){return n.sitesProvider.updateSiteInfoByUrl(n.infoSiteUrl,t).then(function(){return n.credForm.controls.password.reset(),n.loginHelper.goToSiteInitialPage(n.navCtrl,n.pageName,n.pageParams)}).catch(function(l){l.loggedout?n.loginHelper.treatUserTokenError(u,l,t,e):n.domUtils.showErrorModalDefault(l,"core.login.errorupdatesite",!0),n.cancel()})})}).catch(function(l){n.loginHelper.treatUserTokenError(u,l,t,e),l.loggedout&&n.cancel()}).finally(function(){o.dismiss()})}else this.domUtils.showErrorModal("core.networkerrormsg",!0);else this.domUtils.showErrorModal("core.login.passwordrequired",!0)},l.prototype.forgottenPassword=function(){this.loginHelper.forgottenPasswordClicked(this.navCtrl,this.siteUrl,this.credForm.value.username,this.siteConfig)},l.prototype.oauthClicked=function(l){this.loginHelper.openBrowserForOAuthLogin(this.siteUrl,l,this.siteConfig.launchurl)||this.domUtils.showErrorModal("Invalid data.")},l=U([Object(b.m)({selector:"page-core-login-reconnect",templateUrl:"reconnect.html"}),O("design:paramtypes",[v.s,v.t,y.d,k.a,P.a,C.a,I.a])],l)}(),S=u(27),j=u(31),F=this&&this.__decorate||function(l,n,u,t){var e,o=arguments.length,a=o<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,u):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(l,n,u,t);else for(var i=l.length-1;i>=0;i--)(e=l[i])&&(a=(o<3?e(a):o>3?e(n,u,a):e(n,u))||a);return o>3&&a&&Object.defineProperty(n,u,a),a},x=function(){function l(){}return l=F([Object(b.I)({declarations:[V],imports:[S.a,j.a,v.l.forChild(V),w.b.forChild()]})],l)}(),A=u(1528),D=u(1529),R=u(1530),L=u(1531),E=u(1532),N=u(1533),H=u(1534),M=u(1535),T=u(1536),$=u(1537),q=u(1538),B=u(1539),K=u(1540),W=u(161),G=u(230),J=u(6),z=u(18),Q=u(16),X=u(22),Y=u(2),Z=u(25),ll=u(17),nl=u(7),ul=u(48),tl=u(11),el=u(15),ol=u(21),al=u(29),il=u(28),rl=u(44),sl=u(10),_l=u(43),cl=u(32),gl=u(36),fl=u(47),dl=u(8),pl=u(30),ml=u(20),hl=u(19),bl=u(26),vl=u(33),wl=u(742),kl=u(383),Pl=u(112),Il=u(92),Cl=u(35),yl=u(34),Ul=u(165),Ol=u(119),Vl=u(120),Sl=u(45),jl=u(41),Fl=u(87),xl=u(42),Al=u(323),Dl=u(375),Rl=u(39),Ll=u(727),El=u(213),Nl=u(479),Hl=u(728),Ml=u(316),Tl=u(250),$l=u(182),ql=u(109),Bl=u(70),Kl=b._29({encapsulation:2,styles:[],data:{}}),Wl=b._27("page-core-login-reconnect",V,function(l){return b._57(0,[(l()(),b._31(0,0,null,null,1,"page-core-login-reconnect",[],null,null,null,h,Kl)),b._30(1,49152,null,0,V,[ol.a,Bl.a,y.d,k.a,P.a,C.a,I.a],null,null)],null,null)},{},{},[]),Gl=u(371),Jl=u(372),zl=u(374),Ql=u(373),Xl=u(478),Yl=u(726),Zl=u(108),ln=u(273);u.d(n,"CoreLoginReconnectPageModuleNgFactory",function(){return nn});var nn=b._28(x,[],function(l){return b._40([b._41(512,b.o,b._21,[[8,[A.a,D.a,R.a,L.a,E.a,N.a,H.a,M.a,T.a,$.a,q.a,B.a,K.a,Wl]],[3,b.o],b.K]),b._41(4608,nl.m,nl.l,[b.G,[2,nl.w]]),b._41(4608,y.x,y.x,[]),b._41(4608,y.d,y.d,[]),b._41(4608,Gl.b,Gl.a,[]),b._41(4608,Jl.a,Jl.b,[]),b._41(4608,zl.b,zl.a,[]),b._41(4608,Ql.b,Ql.a,[]),b._41(4608,ll.a,ll.a,[Xl.a,Gl.b,Jl.a,zl.b,Ql.b,ll.b,ll.c]),b._41(512,nl.b,nl.b,[]),b._41(512,y.v,y.v,[]),b._41(512,y.i,y.i,[]),b._41(512,y.s,y.s,[]),b._41(512,Yl.a,Yl.a,[]),b._41(512,w.b,w.b,[]),b._41(512,j.a,j.a,[]),b._41(512,Zl.a,Zl.a,[]),b._41(512,S.a,S.a,[]),b._41(512,Yl.b,Yl.b,[]),b._41(512,x,x,[]),b._41(256,ll.c,void 0,[]),b._41(256,ll.b,void 0,[]),b._41(256,ln.a,V,[])])})}});