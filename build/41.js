webpackJsonp([41],{2064:function(n,l,e){"use strict";function t(n){return h._57(0,[(n()(),h._31(0,0,null,null,18,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,K.b,K.a)),h._30(1,1097728,null,3,W.a,[q.a,B.a,h.t,h.V,[2,Q.a]],null,null),h._52(335544320,3,{contentLabel:0}),h._52(603979776,4,{_buttons:1}),h._52(603979776,5,{_icons:1}),h._30(5,16384,null,0,X.a,[],null,null),(n()(),h._55(-1,2,["\n                    "])),(n()(),h._31(7,0,null,2,1,"h2",[],null,null,null,null,null)),(n()(),h._55(8,null,["",""])),(n()(),h._55(-1,2,["\n                    "])),(n()(),h._31(10,0,null,2,3,"ion-note",[["class","core-note-block"]],null,null,null,null,null)),h._30(11,16384,null,0,Y.a,[B.a,h.t,h.V],null,null),(n()(),h._31(12,16777216,null,null,1,"core-format-text",[["contextLevel","system"]],null,null,null,null,null)),h._30(13,540672,null,0,Z.a,[h.t,b.a,v.a,nn.a,ln.a,en.a,tn.a,an.a,un.a,on.a,rn.a,sn.a,[2,cn.a],[2,_n.a],[2,y.a],fn.a,g.a,hn.a,dn.a,pn.a,h._11],{text:[0,"text"],contextLevel:[1,"contextLevel"],contextInstanceId:[2,"contextInstanceId"],wsNotFiltered:[3,"wsNotFiltered"]},null),(n()(),h._55(-1,2,["\n                    "])),(n()(),h._31(15,0,null,2,2,"ion-note",[["class","core-note-block"]],null,null,null,null,null)),h._30(16,16384,null,0,Y.a,[B.a,h.t,h.V],null,null),(n()(),h._55(17,null,["",""])),(n()(),h._55(-1,2,["\n                "]))],function(n,l){n(l,13,0,l.component.siteName,"system",0,!0)},function(n,l){var e=l.component;n(l,8,0,e.siteInfo.fullname);n(l,17,0,e.siteUrl)})}function a(n){return h._57(0,[(n()(),h._31(0,0,null,null,18,"a",[["class","item item-block"],["detail-push",""],["ion-item",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(n,l,e){var t=!0,a=n.component;if("click"===l){t=!1!==a.openHandler("CoreSharedFilesListPage",{manage:!0,siteId:a.siteId,hideSitePicker:!0})&&t}return t},K.b,K.a)),h._30(1,1097728,null,3,W.a,[q.a,B.a,h.t,h.V,[2,Q.a]],null,null),h._52(335544320,9,{contentLabel:0}),h._52(603979776,10,{_buttons:1}),h._52(603979776,11,{_icons:1}),h._30(5,16384,null,0,X.a,[],null,null),h._47(131072,mn.a,[ln.a,h.j]),(n()(),h._55(-1,2,["\n                    "])),(n()(),h._31(8,0,null,0,1,"ion-icon",[["item-start",""],["name","folder"],["role","img"]],[[2,"hide",null]],null,null,null,null)),h._30(9,147456,[[11,4]],0,gn.a,[B.a,h.t,h.V],{name:[0,"name"]},null),(n()(),h._55(-1,2,["\n                    "])),(n()(),h._31(11,0,null,2,2,"h2",[],null,null,null,null,null)),(n()(),h._55(12,null,["",""])),h._47(131072,mn.a,[ln.a,h.j]),(n()(),h._55(-1,2,["\n                    "])),(n()(),h._31(15,0,null,4,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),h._30(16,16384,null,0,bn.a,[B.a,h.t,h.V],null,null),(n()(),h._55(17,null,["",""])),(n()(),h._55(-1,2,["\n                "]))],function(n,l){n(l,9,0,"folder")},function(n,l){var e=l.component;n(l,0,0,h._56(l,0,0,h._44(l,6).transform("core.sharedfiles.sharedfiles")),"CoreSharedFilesListPage"==e.selectedPage);n(l,8,0,h._44(l,9)._hidden);n(l,12,0,h._56(l,12,0,h._44(l,13).transform("core.sharedfiles.sharedfiles")));n(l,17,0,e.iosSharedFiles)})}function u(n){return h._57(0,[(n()(),h._31(0,0,null,null,1,"core-icon",[["item-start",""]],null,null,null,vn.b,vn.a)),h._30(1,704512,null,0,yn.a,[h.t,B.a],{name:[0,"name"]},null)],function(n,l){n(l,1,0,l.parent.context.$implicit.icon)},null)}function i(n){return h._57(0,[(n()(),h._31(0,0,null,null,16,"a",[["class","item item-block"],["detail-push",""],["ion-item",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.openHandler(n.context.$implicit.page,n.context.$implicit.params)&&t}return t},K.b,K.a)),h._30(1,278528,null,0,In.i,[h.E,h.F,h.t,h.W],{ngClass:[0,"ngClass"]},null),h._46(2,2),h._30(3,1097728,null,3,W.a,[q.a,B.a,h.t,h.V,[2,Q.a]],null,null),h._52(335544320,12,{contentLabel:0}),h._52(603979776,13,{_buttons:1}),h._52(603979776,14,{_icons:1}),h._30(7,16384,null,0,X.a,[],null,null),h._47(131072,mn.a,[ln.a,h.j]),(n()(),h._55(-1,2,["\n                    "])),(n()(),h._26(16777216,null,0,1,null,u)),h._30(11,16384,null,0,In.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,2,["\n                    "])),(n()(),h._31(13,0,null,2,2,"h2",[],null,null,null,null,null)),(n()(),h._55(14,null,["",""])),h._47(131072,mn.a,[ln.a,h.j]),(n()(),h._55(-1,2,["\n                "]))],function(n,l){n(l,1,0,n(l,2,0,"core-settings-handler",l.context.$implicit.class));n(l,11,0,l.context.$implicit.icon)},function(n,l){var e=l.component;n(l,0,0,h._56(l,0,0,h._44(l,8).transform(l.context.$implicit.title)),l.context.$implicit.page==e.selectedPage);n(l,14,0,h._56(l,14,0,h._44(l,15).transform(l.context.$implicit.title)))})}function o(n){return h._57(0,[(n()(),h._31(0,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),h._55(1,null,["",""])),h._49(2,1)],null,function(n,l){var e=l.component;n(l,1,0,h._56(l,1,0,n(l,2,0,h._44(l.parent.parent,0),e.spaceUsage.spaceUsage)))})}function r(n){return h._57(0,[(n()(),h._31(0,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),h._55(1,null,["",""])),h._48(2,{$a:0}),h._47(131072,mn.a,[ln.a,h.j])],null,function(n,l){var e=l.component;n(l,1,0,h._56(l,1,0,h._44(l,3).transform("core.settings.entriesincache",n(l,2,0,e.spaceUsage.cacheEntries))))})}function s(n){return h._57(0,[(n()(),h._31(0,0,null,null,27,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,K.b,K.a)),h._30(1,1097728,null,3,W.a,[q.a,B.a,h.t,h.V,[2,Q.a]],null,null),h._52(335544320,15,{contentLabel:0}),h._52(603979776,16,{_buttons:1}),h._52(603979776,17,{_icons:1}),h._30(5,16384,null,0,X.a,[],null,null),(n()(),h._55(-1,2,["\n                        "])),(n()(),h._31(7,0,null,2,5,"h2",[["text-wrap",""]],null,null,null,null,null)),(n()(),h._55(8,null,[""," "])),h._47(131072,mn.a,[ln.a,h.j]),(n()(),h._31(10,0,null,null,2,"ion-icon",[["color","info"],["name","information-circle"],["role","img"]],[[1,"aria-label",0],[2,"hide",null]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.showSpaceInfo()&&t}return t},null,null)),h._30(11,147456,[[17,4]],0,gn.a,[B.a,h.t,h.V],{color:[0,"color"],name:[1,"name"]},null),h._47(131072,mn.a,[ln.a,h.j]),(n()(),h._55(-1,2,["\n                        "])),(n()(),h._26(16777216,null,2,1,null,o)),h._30(15,16384,null,0,In.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,2,["\n                        "])),(n()(),h._26(16777216,null,2,1,null,r)),h._30(18,16384,null,0,In.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,2,["\n                        "])),(n()(),h._31(20,0,null,4,6,"button",[["clear",""],["color","danger"],["icon-only",""],["ion-button",""],["item-end",""]],[[8,"hidden",0],[1,"aria-label",0]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.deleteSiteStorage()&&t}return t},wn.b,wn.a)),h._30(21,1097728,[[16,4]],0,Sn.a,[[8,""],B.a,h.t,h.V],{color:[0,"color"],clear:[1,"clear"]},null),h._47(131072,mn.a,[ln.a,h.j]),(n()(),h._55(-1,0,["\n                            "])),(n()(),h._31(24,0,null,0,1,"ion-icon",[["name","trash"],["role","img"]],[[2,"hide",null]],null,null,null,null)),h._30(25,147456,null,0,gn.a,[B.a,h.t,h.V],{name:[0,"name"]},null),(n()(),h._55(-1,0,["\n                        "])),(n()(),h._55(-1,2,["\n                    "]))],function(n,l){var e=l.component;n(l,11,0,"info","information-circle");n(l,15,0,null!=e.spaceUsage.spaceUsage);n(l,18,0,null!=e.spaceUsage.cacheEntries);n(l,21,0,"danger","");n(l,25,0,"trash")},function(n,l){var e=l.component;n(l,8,0,h._56(l,8,0,h._44(l,9).transform("core.settings.spaceusage")));n(l,10,0,h._56(l,10,0,h._44(l,12).transform("core.info")),h._44(l,11)._hidden);n(l,20,0,!e.spaceUsage.spaceUsage>"0"&&!e.spaceUsage.cacheEntries>"0",h._56(l,20,1,h._44(l,22).transform("core.settings.deletesitefilestitle")));n(l,24,0,h._44(l,25)._hidden)})}function c(n){return h._57(0,[(n()(),h._31(0,0,null,null,6,"button",[["clear",""],["icon-only",""],["ion-button",""],["item-end",""]],[[8,"title",0],[1,"aria-label",0]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.synchronize()&&t}return t},wn.b,wn.a)),h._30(1,1097728,[[19,4]],0,Sn.a,[[8,""],B.a,h.t,h.V],{clear:[0,"clear"]},null),h._47(131072,mn.a,[ln.a,h.j]),(n()(),h._55(-1,0,["\n                            "])),(n()(),h._31(4,0,null,0,1,"ion-icon",[["name","sync"],["role","img"]],[[2,"hide",null]],null,null,null,null)),h._30(5,147456,null,0,gn.a,[B.a,h.t,h.V],{name:[0,"name"]},null),(n()(),h._55(-1,0,["\n                        "]))],function(n,l){n(l,1,0,"");n(l,5,0,"sync")},function(n,l){n(l,0,0,l.component.siteName,h._56(l,0,1,h._44(l,2).transform("core.settings.synchronizenow")));n(l,4,0,h._44(l,5)._hidden)})}function _(n){return h._57(0,[(n()(),h._31(0,0,null,null,1,"ion-spinner",[["item-end",""]],[[2,"spinner-paused",null]],null,null,kn.b,kn.a)),h._30(1,114688,null,0,Pn.a,[B.a,h.t,h.V],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,h._44(l,1)._paused)})}function f(n){return h._57(0,[h._47(0,xn.a,[un.a,nn.a]),h._52(402653184,1,{splitviewCtrl:0}),(n()(),h._31(2,0,null,null,17,"ion-header",[],null,null,null,null,null)),h._30(3,16384,null,0,Un.a,[B.a,h.t,h.V,[2,Vn.a]],null,null),(n()(),h._55(-1,null,["\n    "])),(n()(),h._31(5,0,null,null,13,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,jn.b,jn.a)),h._30(6,49152,null,0,On.a,[Dn.a,[2,Vn.a],[2,cn.a],B.a,h.t,h.V],null,null),h._30(7,212992,null,0,Rn.a,[On.a,en.a,ln.a,g.a],null,null),(n()(),h._55(-1,3,["\n        "])),(n()(),h._31(9,0,null,3,3,"ion-title",[],null,null,null,Fn.b,Fn.a)),h._30(10,49152,null,0,Ln.a,[B.a,h.t,h.V,[2,Cn.a],[2,On.a]],null,null),(n()(),h._55(11,0,["",""])),h._47(131072,mn.a,[ln.a,h.j]),(n()(),h._55(-1,3,["\n        "])),(n()(),h._31(14,0,null,2,3,"ion-buttons",[["end",""]],null,null,null,null,null)),h._30(15,16384,null,1,Hn.a,[B.a,h.t,h.V,[2,Cn.a],[2,On.a]],null,null),h._52(603979776,2,{_buttons:1}),(n()(),h._55(-1,null,["\n        "])),(n()(),h._55(-1,3,["\n    "])),(n()(),h._55(-1,null,["\n"])),(n()(),h._55(-1,null,["\n"])),(n()(),h._31(21,0,null,null,66,"core-split-view",[],null,null,null,En.b,En.a)),h._30(22,245760,[[1,4]],0,y.a,[[2,cn.a],h.t,zn.a,en.a,ln.a],null,null),(n()(),h._55(-1,0,["\n    "])),(n()(),h._31(24,0,null,0,62,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,$n.b,$n.a)),h._30(25,4374528,null,0,_n.a,[B.a,en.a,Nn.a,h.t,h.V,Dn.a,Mn.a,h.M,[2,Vn.a],[2,cn.a]],null,null),(n()(),h._55(-1,1,["\n        "])),(n()(),h._31(27,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,l,e){var t=!0;if("ionRefresh"===l){t=!1!==n.component.refreshData(e)&&t}return t},null,null)),h._30(28,212992,null,0,Tn.a,[en.a,_n.a,h.M,An.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(n()(),h._55(-1,null,["\n            "])),(n()(),h._31(30,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,Gn.b,Gn.a)),h._30(31,114688,null,0,Jn.a,[Tn.a,B.a],{pullingText:[0,"pullingText"]},null),h._47(131072,mn.a,[ln.a,h.j]),(n()(),h._55(-1,null,["\n        "])),(n()(),h._55(-1,1,["\n        "])),(n()(),h._31(35,0,null,1,50,"core-loading",[],null,null,null,Kn.b,Kn.a)),h._30(36,638976,null,0,Wn.a,[ln.a,h.t,g.a,tn.a],{hideUntil:[0,"hideUntil"]},null),(n()(),h._55(-1,0,["\n            "])),(n()(),h._31(38,0,null,0,46,"ion-list",[],null,null,null,null,null)),h._30(39,16384,null,0,qn.a,[B.a,h.t,h.V,en.a,An.l,Nn.a],null,null),(n()(),h._55(-1,null,["\n                "])),(n()(),h._26(16777216,null,null,1,null,t)),h._30(42,16384,null,0,In.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,null,["\n                "])),(n()(),h._31(44,0,null,null,5,"ion-item-divider",[["class","item item-divider"]],null,null,null,K.b,K.a)),h._30(45,1097728,null,3,W.a,[q.a,B.a,h.t,h.V,[2,Q.a]],null,null),h._52(335544320,6,{contentLabel:0}),h._52(603979776,7,{_buttons:1}),h._52(603979776,8,{_icons:1}),h._30(49,16384,null,0,Bn.a,[B.a,h.t,h.V],null,null),(n()(),h._55(-1,null,["\n                "])),(n()(),h._26(16777216,null,null,1,null,a)),h._30(52,16384,null,0,In.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,null,["\n\n                "])),(n()(),h._26(16777216,null,null,1,null,i)),h._30(55,802816,null,0,In.j,[h._11,h._6,h.E],{ngForOf:[0,"ngForOf"]},null),(n()(),h._55(-1,null,["\n\n                "])),(n()(),h._31(57,0,null,null,26,"ion-card",[["class","with-borders"]],null,null,null,null,null)),h._30(58,16384,null,0,Qn.a,[B.a,h.t,h.V],null,null),(n()(),h._55(-1,null,["\n                    "])),(n()(),h._26(16777216,null,null,1,null,s)),h._30(61,16384,null,0,In.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,null,["\n                    "])),(n()(),h._31(63,0,null,null,19,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,K.b,K.a)),h._30(64,1097728,null,3,W.a,[q.a,B.a,h.t,h.V,[2,Q.a]],null,null),h._52(335544320,18,{contentLabel:0}),h._52(603979776,19,{_buttons:1}),h._52(603979776,20,{_icons:1}),h._30(68,16384,null,0,X.a,[],null,null),(n()(),h._55(-1,2,["\n                        "])),(n()(),h._31(70,0,null,2,5,"h2",[],null,null,null,null,null)),(n()(),h._55(71,null,[""," "])),h._47(131072,mn.a,[ln.a,h.j]),(n()(),h._31(73,0,null,null,2,"ion-icon",[["color","info"],["name","information-circle"],["role","img"]],[[1,"aria-label",0],[2,"hide",null]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.showSyncInfo()&&t}return t},null,null)),h._30(74,147456,[[20,4]],0,gn.a,[B.a,h.t,h.V],{color:[0,"color"],name:[1,"name"]},null),h._47(131072,mn.a,[ln.a,h.j]),(n()(),h._55(-1,2,["\n                        "])),(n()(),h._26(16777216,null,4,1,null,c)),h._30(78,16384,null,0,In.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,2,["\n                        "])),(n()(),h._26(16777216,null,4,1,null,_)),h._30(81,16384,null,0,In.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._55(-1,2,["\n                    "])),(n()(),h._55(-1,null,["\n                "])),(n()(),h._55(-1,null,["\n            "])),(n()(),h._55(-1,0,["\n        "])),(n()(),h._55(-1,1,["\n    "])),(n()(),h._55(-1,0,["\n"])),(n()(),h._55(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,7,0),n(l,22,0);n(l,28,0,e.loaded);n(l,31,0,h._34(1,"",h._56(l,31,0,h._44(l,32).transform("core.pulltorefresh")),""));n(l,36,0,e.loaded);n(l,42,0,e.siteInfo);n(l,52,0,e.isIOS);n(l,55,0,e.handlers);n(l,61,0,e.spaceUsage);n(l,74,0,"info","information-circle");n(l,78,0,!e.isSynchronizing());n(l,81,0,e.isSynchronizing())},function(n,l){n(l,5,0,h._44(l,6)._hidden,h._44(l,6)._sbPadding);n(l,11,0,h._56(l,11,0,h._44(l,12).transform("core.settings.preferences")));n(l,24,0,h._44(l,25).statusbarPadding,h._44(l,25)._hasRefresher);n(l,27,0,"inactive"!==h._44(l,28).state,h._44(l,28)._top);n(l,30,0,h._44(l,31).r.state);n(l,71,0,h._56(l,71,0,h._44(l,72).transform("core.settings.synchronizenow")));n(l,73,0,h._56(l,73,0,h._44(l,75).transform("core.info")),h._44(l,74)._hidden)})}Object.defineProperty(l,"__esModule",{value:!0});var h=e(0),d=e(5),p=e(3),m=e(325),g=e(9),b=e(1),v=e(4),y=e(28),I=e(488),w=e(727),S=this&&this.__decorate||function(n,l,e,t){var a,u=arguments.length,i=u<3?l:null===t?t=Object.getOwnPropertyDescriptor(l,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,l,e,t);else for(var o=n.length-1;o>=0;o--)(a=n[o])&&(i=(u<3?a(i):u>3?a(l,e,i):a(l,e))||i);return u>3&&i&&Object.defineProperty(l,e,i),i},k=this&&this.__metadata||function(n,l){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,l)},P=this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(a,u){function i(n){try{r(t.next(n))}catch(n){u(n)}}function o(n){try{r(t.throw(n))}catch(n){u(n)}}function r(n){n.done?a(n.value):new e(function(l){l(n.value)}).then(i,o)}r((t=t.apply(n,l||[])).next())})},x=this&&this.__generator||function(n,l){function e(e){return function(i){return function(e){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,a&&(u=a[2&e[0]?"return":e[0]?"throw":"next"])&&!(u=u.call(a,e[1])).done)return u;switch(a=0,u&&(e=[0,u.value]),e[0]){case 0:case 1:u=e;break;case 4:return o.label++,{value:e[1],done:!1};case 5:o.label++,a=e[1],e=[0];continue;case 7:e=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(6===e[0]||2===e[0])){o=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){o.label=e[1];break}if(6===e[0]&&o.label<u[1]){o.label=u[1],u=e;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(e);break}u[2]&&o.ops.pop(),o.trys.pop();continue}e=l.call(n,o)}catch(n){e=[6,n],a=0}finally{t=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,i])}}var t,a,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},U=function(){function n(n,l,e,t,a,u,i,o,r){var s=this;this.settingsDelegate=n,this.settingsHelper=l,this.sitesProvider=e,this.domUtils=t,this.eventsProvider=a,this.sharedFilesProvider=u,this.translate=i,this.siteInfo=[],this.spaceUsage={cacheEntries:0,spaceUsage:0},this.loaded=!1,this.isDestroyed=!1,this.isIOS=o.is("ios"),this.selectedPage=r.get("page")||!1,this.sitesObserver=this.eventsProvider.on(g.a.SITE_UPDATED,function(n){n.siteId==s.siteId&&s.refreshData()})}return n.prototype.ionViewDidLoad=function(){var n=this;this.fetchData().finally(function(){n.loaded=!0,n.selectedPage?n.openHandler(n.selectedPage):n.splitviewCtrl.isOn()&&(n.isIOS?n.openHandler("CoreSharedFilesListPage",{manage:!0,siteId:n.siteId,hideSitePicker:!0}):n.handlers.length>0&&n.openHandler(n.handlers[0].page,n.handlers[0].params))})},n.prototype.fetchData=function(){return P(this,void 0,void 0,function(){var n,l,e=this;return x(this,function(t){switch(t.label){case 0:return this.handlers=this.settingsDelegate.getHandlers(),n=this.sitesProvider.getCurrentSite(),this.siteId=n.id,this.siteInfo=n.getInfo(),this.siteName=n.getSiteName(),this.siteUrl=n.getURL(),(l=[]).push(this.settingsHelper.getSiteSpaceUsage(this.siteId).then(function(n){return e.spaceUsage=n})),this.isIOS&&l.push(this.sharedFilesProvider.getSiteSharedFiles(this.siteId).then(function(n){return e.iosSharedFiles=n.length})),[4,Promise.all(l)];case 1:return t.sent(),[2]}})})},n.prototype.synchronize=function(n){var l=this;this.settingsHelper.synchronizeSite(!1,this.siteId).catch(function(n){l.isDestroyed||l.domUtils.showErrorModalDefault(n,"core.settings.errorsyncsite",!0)})},n.prototype.isSynchronizing=function(){return this.siteId&&!!this.settingsHelper.getSiteSyncPromise(this.siteId)},n.prototype.refreshData=function(n){this.fetchData().finally(function(){n&&n.complete()})},n.prototype.deleteSiteStorage=function(){var n=this;this.settingsHelper.deleteSiteStorage(this.siteName,this.siteId).then(function(l){n.spaceUsage=l}).catch(function(){})},n.prototype.openHandler=function(n,l){this.selectedPage=n,this.splitviewCtrl.push(n,l)},n.prototype.showSpaceInfo=function(){this.domUtils.showAlert(this.translate.instant("core.help"),this.translate.instant("core.settings.spaceusagehelp"))},n.prototype.showSyncInfo=function(){this.domUtils.showAlert(this.translate.instant("core.help"),this.translate.instant("core.settings.synchronizenowhelp"))},n.prototype.ngOnDestroy=function(){this.isDestroyed=!0,this.sitesObserver&&this.sitesObserver.off()},S([Object(h._9)(y.a),k("design:type",y.a)],n.prototype,"splitviewCtrl",void 0),n=S([Object(h.m)({selector:"page-core-site-preferences",templateUrl:"site.html"}),k("design:paramtypes",[m.a,w.a,b.a,v.a,g.a,I.a,p.c,d.v,d.t])],n)}(),V=e(26),j=e(32),O=e(106),D=this&&this.__decorate||function(n,l,e,t){var a,u=arguments.length,i=u<3?l:null===t?t=Object.getOwnPropertyDescriptor(l,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,l,e,t);else for(var o=n.length-1;o>=0;o--)(a=n[o])&&(i=(u<3?a(i):u>3?a(l,e,i):a(l,e))||i);return u>3&&i&&Object.defineProperty(l,e,i),i},R=function(){function n(){}return n=D([Object(h.I)({declarations:[U],imports:[V.a,j.a,O.a,d.l.forChild(U),p.b.forChild()]})],n)}(),F=e(1522),L=e(1523),C=e(1524),H=e(1525),E=e(1526),z=e(1527),$=e(1528),N=e(1529),M=e(1530),T=e(1531),A=e(1532),G=e(1533),J=e(1534),K=e(31),W=e(21),q=e(19),B=e(8),Q=e(27),X=e(33),Y=e(248),Z=e(47),nn=e(11),ln=e(18),en=e(16),tn=e(2),an=e(22),un=e(6),on=e(17),rn=e(10),sn=e(15),cn=e(20),_n=e(29),fn=e(42),hn=e(40),dn=e(30),pn=e(36),mn=e(25),gn=e(48),bn=e(143),vn=e(80),yn=e(75),In=e(7),wn=e(46),Sn=e(43),kn=e(121),Pn=e(101),xn=e(1570),Un=e(370),Vn=e(39),jn=e(721),On=e(211),Dn=e(35),Rn=e(473),Fn=e(722),Ln=e(314),Cn=e(247),Hn=e(371),En=e(474),zn=e(72),$n=e(181),Nn=e(34),Mn=e(107),Tn=e(159),An=e(44),Gn=e(212),Jn=e(173),Kn=e(54),Wn=e(51),qn=e(86),Bn=e(100),Qn=e(89),Xn=e(69),Yn=h._29({encapsulation:2,styles:[],data:{}}),Zn=h._27("page-core-site-preferences",U,function(n){return h._57(0,[(n()(),h._31(0,0,null,null,1,"page-core-site-preferences",[],null,null,null,f,Yn)),h._30(1,180224,null,0,U,[m.a,w.a,b.a,v.a,g.a,I.a,ln.a,en.a,Xn.a],null,null)],null,null)},{},{},[]),nl=e(23),ll=e(366),el=e(367),tl=e(369),al=e(368),ul=e(472),il=e(720),ol=e(270);e.d(l,"CoreSitePreferencesPageModuleNgFactory",function(){return rl});var rl=h._28(R,[],function(n){return h._40([h._41(512,h.o,h._21,[[8,[F.a,L.a,C.a,H.a,E.a,z.a,$.a,N.a,M.a,T.a,A.a,G.a,J.a,Zn]],[3,h.o],h.K]),h._41(4608,In.m,In.l,[h.G,[2,In.w]]),h._41(4608,nl.x,nl.x,[]),h._41(4608,nl.d,nl.d,[]),h._41(4608,ll.b,ll.a,[]),h._41(4608,el.a,el.b,[]),h._41(4608,tl.b,tl.a,[]),h._41(4608,al.b,al.a,[]),h._41(4608,ln.a,ln.a,[ul.a,ll.b,el.a,tl.b,al.b,ln.b,ln.c]),h._41(512,In.b,In.b,[]),h._41(512,nl.v,nl.v,[]),h._41(512,nl.i,nl.i,[]),h._41(512,nl.s,nl.s,[]),h._41(512,il.a,il.a,[]),h._41(512,p.b,p.b,[]),h._41(512,j.a,j.a,[]),h._41(512,O.a,O.a,[]),h._41(512,V.a,V.a,[]),h._41(512,il.b,il.b,[]),h._41(512,R,R,[]),h._41(256,ln.c,void 0,[]),h._41(256,ln.b,void 0,[]),h._41(256,ol.a,U,[])])})}});