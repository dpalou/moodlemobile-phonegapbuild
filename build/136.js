webpackJsonp([136],{1978:function(n,e,l){"use strict";function t(n){return u._57(0,[(n()(),u._31(0,0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),u._30(1,16384,null,0,M.a,[U.a,u.t,u.V],{color:[0,"color"]},null),(n()(),u._55(2,null,["",""]))],function(n,e){n(e,1,0,e.parent.context.$implicit.usercompetency.proficiency?"success":"danger")},function(n,e){n(e,2,0,e.parent.context.$implicit.usercompetency.gradename)})}function c(n){return u._57(0,[(n()(),u._31(0,0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),u._30(1,16384,null,0,M.a,[U.a,u.t,u.V],{color:[0,"color"]},null),(n()(),u._55(2,null,["",""]))],function(n,e){n(e,1,0,e.parent.context.$implicit.usercompetencycourse.proficiency?"success":"danger")},function(n,e){n(e,2,0,e.parent.context.$implicit.usercompetencycourse.gradename)})}function o(n){return u._57(0,[(n()(),u._31(0,0,null,null,17,"a",[["class","item item-block"],["ion-item",""],["text-wrap",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.component.openCompetency(n.context.$implicit.competency.id)&&t}return t},D.b,D.a)),u._30(1,1097728,null,3,E.a,[F.a,U.a,u.t,u.V,[2,A.a]],null,null),u._52(335544320,2,{contentLabel:0}),u._52(603979776,3,{_buttons:1}),u._52(603979776,4,{_icons:1}),u._30(5,16384,null,0,T.a,[],null,null),(n()(),u._55(-1,2,["\n                    "])),(n()(),u._31(7,0,null,2,3,"h2",[],null,null,null,null,null)),(n()(),u._55(8,null,[""," "])),(n()(),u._31(9,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),u._55(10,null,["",""])),(n()(),u._55(-1,2,["\n                    "])),(n()(),u._26(16777216,null,4,1,null,t)),u._30(13,16384,null,0,G.k,[u._11,u._6],{ngIf:[0,"ngIf"]},null),(n()(),u._55(-1,2,["\n                    "])),(n()(),u._26(16777216,null,4,1,null,c)),u._30(16,16384,null,0,G.k,[u._11,u._6],{ngIf:[0,"ngIf"]},null),(n()(),u._55(-1,2,["\n                "]))],function(n,e){n(e,13,0,e.context.$implicit.usercompetency);n(e,16,0,e.context.$implicit.usercompetencycourse)},function(n,e){n(e,0,0,e.context.$implicit.competency.shortname,e.context.$implicit.competency.id==e.component.competencyId);n(e,8,0,e.context.$implicit.competency.shortname);n(e,10,0,e.context.$implicit.competency.idnumber)})}function i(n){return u._57(0,[u._52(402653184,1,{splitviewCtrl:0}),(n()(),u._31(1,0,null,null,11,"ion-header",[],null,null,null,null,null)),u._30(2,16384,null,0,J.a,[U.a,u.t,u.V,[2,K.a]],null,null),(n()(),u._55(-1,null,["\n    "])),(n()(),u._31(4,0,null,null,7,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,N.b,N.a)),u._30(5,49152,null,0,q.a,[z.a,[2,K.a],[2,B.a],U.a,u.t,u.V],null,null),u._30(6,212992,null,0,H.a,[q.a,Q.a,S.a,W.a],null,null),(n()(),u._55(-1,3,["\n        "])),(n()(),u._31(8,0,null,3,2,"ion-title",[],null,null,null,X.b,X.a)),u._30(9,49152,null,0,Y.a,[U.a,u.t,u.V,[2,Z.a],[2,q.a]],null,null),(n()(),u._55(10,0,["",""])),(n()(),u._55(-1,3,["\n    "])),(n()(),u._55(-1,null,["\n"])),(n()(),u._55(-1,null,["\n"])),(n()(),u._31(14,0,null,null,25,"core-split-view",[],null,null,null,nn.b,nn.a)),u._30(15,245760,[[1,4]],0,d.a,[[2,B.a],u.t,en.a,Q.a,S.a],null,null),(n()(),u._55(-1,0,["\n    "])),(n()(),u._31(17,0,null,0,21,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,ln.b,ln.a)),u._30(18,4374528,null,0,tn.a,[U.a,Q.a,cn.a,u.t,u.V,z.a,on.a,u.M,[2,K.a],[2,B.a]],null,null),(n()(),u._55(-1,1,["\n        "])),(n()(),u._31(20,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,e,l){var t=!0;if("ionRefresh"===e){t=!1!==n.component.refreshCompetencies(l)&&t}return t},null,null)),u._30(21,212992,null,0,un.a,[Q.a,tn.a,u.M,an.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(n()(),u._55(-1,null,["\n            "])),(n()(),u._31(23,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,rn.b,rn.a)),u._30(24,114688,null,0,sn.a,[un.a,U.a],{pullingText:[0,"pullingText"]},null),u._47(131072,pn.a,[S.a,u.j]),(n()(),u._55(-1,null,["\n        "])),(n()(),u._55(-1,1,["\n        "])),(n()(),u._31(28,0,null,1,9,"core-loading",[],null,null,null,_n.b,_n.a)),u._30(29,638976,null,0,dn.a,[S.a,u.t,W.a,mn.a],{hideUntil:[0,"hideUntil"]},null),(n()(),u._55(-1,0,["\n            "])),(n()(),u._31(31,0,null,0,5,"ion-list",[],null,null,null,null,null)),u._30(32,16384,null,0,fn.a,[U.a,u.t,u.V,Q.a,an.l,cn.a],null,null),(n()(),u._55(-1,null,["\n                "])),(n()(),u._26(16777216,null,null,1,null,o)),u._30(35,802816,null,0,G.j,[u._11,u._6,u.E],{ngForOf:[0,"ngForOf"]},null),(n()(),u._55(-1,null,["\n            "])),(n()(),u._55(-1,0,["\n        "])),(n()(),u._55(-1,1,["\n    "])),(n()(),u._55(-1,0,["\n"]))],function(n,e){var l=e.component;n(e,6,0),n(e,15,0);n(e,21,0,l.competenciesLoaded);n(e,24,0,u._34(1,"",u._56(e,24,0,u._44(e,25).transform("core.pulltorefresh")),""));n(e,29,0,l.competenciesLoaded);n(e,35,0,l.competencies)},function(n,e){var l=e.component;n(e,4,0,u._44(e,5)._hidden,u._44(e,5)._sbPadding);n(e,10,0,l.title);n(e,17,0,u._44(e,18).statusbarPadding,u._44(e,18)._hasRefresher);n(e,20,0,"inactive"!==u._44(e,21).state,u._44(e,21)._top);n(e,23,0,u._44(e,24).r.state)})}Object.defineProperty(e,"__esModule",{value:!0});var u=l(0),a=l(5),r=l(3),s=l(26),p=l(32),_=l(4),d=l(28),m=l(165),f=this&&this.__decorate||function(n,e,l,t){var c,o=arguments.length,i=o<3?e:null===t?t=Object.getOwnPropertyDescriptor(e,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,l,t);else for(var u=n.length-1;u>=0;u--)(c=n[u])&&(i=(o<3?c(i):o>3?c(e,l,i):c(e,l))||i);return o>3&&i&&Object.defineProperty(e,l,i),i},h=this&&this.__metadata||function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},y=function(){function n(n,e,l,t){this.translate=e,this.domUtils=l,this.competencyProvider=t,this.competenciesLoaded=!1,this.competencies=[],this.planId=n.get("planId"),this.courseId=n.get("courseId"),this.competencyId=n.get("competencyId"),this.userId=n.get("userId")}return n.prototype.ionViewDidLoad=function(){var n=this;this.competencyId&&this.openCompetency(this.competencyId),this.fetchCompetencies().then(function(){!n.competencyId&&n.splitviewCtrl.isOn()&&n.competencies.length>0&&n.openCompetency(n.competencies[0].competency.id)}).finally(function(){n.competenciesLoaded=!0})},n.prototype.fetchCompetencies=function(){var n=this;return(this.planId?this.competencyProvider.getLearningPlan(this.planId):this.courseId?this.competencyProvider.getCourseCompetencies(this.courseId,this.userId):Promise.reject(null)).then(function(e){if(n.planId){var l=e;if(l.competencycount<=0)return Promise.reject(n.translate.instant("addon.competency.errornocompetenciesfound"));n.title=l.plan.name,n.userId=l.plan.userid}else n.title=n.translate.instant("addon.competency.coursecompetencies");n.competencies=e.competencies}).catch(function(e){n.domUtils.showErrorModalDefault(e,"Error getting competencies data.")})},n.prototype.openCompetency=function(n){this.competencyId=n;this.splitviewCtrl.push("AddonCompetencyCompetencyPage",this.planId?{competencyId:n,planId:this.planId}:{competencyId:n,courseId:this.courseId,userId:this.userId})},n.prototype.refreshCompetencies=function(n){var e=this;return(this.planId?this.competencyProvider.invalidateLearningPlan(this.planId):this.competencyProvider.invalidateCourseCompetencies(this.courseId,this.userId)).finally(function(){e.fetchCompetencies().finally(function(){n.complete()})})},f([Object(u._9)(d.a),h("design:type",d.a)],n.prototype,"splitviewCtrl",void 0),n=f([Object(u.m)({selector:"page-addon-competency-competencies",templateUrl:"competencies.html"}),h("design:paramtypes",[a.t,r.c,_.a,m.a])],n)}(),b=this&&this.__decorate||function(n,e,l,t){var c,o=arguments.length,i=o<3?e:null===t?t=Object.getOwnPropertyDescriptor(e,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,l,t);else for(var u=n.length-1;u>=0;u--)(c=n[u])&&(i=(o<3?c(i):o>3?c(e,l,i):c(e,l))||i);return o>3&&i&&Object.defineProperty(e,l,i),i},g=function(){function n(){}return n=b([Object(u.I)({declarations:[y],imports:[s.a,p.a,a.l.forChild(y),r.b.forChild()]})],n)}(),I=l(1522),v=l(1523),C=l(1524),P=l(1525),x=l(1526),j=l(1527),R=l(1528),O=l(1529),w=l(1530),$=l(1531),V=l(1532),L=l(1533),k=l(1534),M=l(143),U=l(8),D=l(31),E=l(21),F=l(19),A=l(27),T=l(33),G=l(7),J=l(370),K=l(39),N=l(721),q=l(211),z=l(35),B=l(20),H=l(473),Q=l(16),S=l(18),W=l(9),X=l(722),Y=l(314),Z=l(247),nn=l(474),en=l(72),ln=l(181),tn=l(29),cn=l(34),on=l(107),un=l(159),an=l(44),rn=l(212),sn=l(173),pn=l(25),_n=l(54),dn=l(51),mn=l(2),fn=l(86),hn=l(69),yn=u._29({encapsulation:2,styles:[],data:{}}),bn=u._27("page-addon-competency-competencies",y,function(n){return u._57(0,[(n()(),u._31(0,0,null,null,1,"page-addon-competency-competencies",[],null,null,null,i,yn)),u._30(1,49152,null,0,y,[hn.a,S.a,_.a,m.a],null,null)],null,null)},{},{},[]),gn=l(23),In=l(366),vn=l(367),Cn=l(369),Pn=l(368),xn=l(472),jn=l(720),Rn=l(106),On=l(270);l.d(e,"AddonCompetencyCompetenciesPageModuleNgFactory",function(){return wn});var wn=u._28(g,[],function(n){return u._40([u._41(512,u.o,u._21,[[8,[I.a,v.a,C.a,P.a,x.a,j.a,R.a,O.a,w.a,$.a,V.a,L.a,k.a,bn]],[3,u.o],u.K]),u._41(4608,G.m,G.l,[u.G,[2,G.w]]),u._41(4608,gn.x,gn.x,[]),u._41(4608,gn.d,gn.d,[]),u._41(4608,In.b,In.a,[]),u._41(4608,vn.a,vn.b,[]),u._41(4608,Cn.b,Cn.a,[]),u._41(4608,Pn.b,Pn.a,[]),u._41(4608,S.a,S.a,[xn.a,In.b,vn.a,Cn.b,Pn.b,S.b,S.c]),u._41(512,G.b,G.b,[]),u._41(512,gn.v,gn.v,[]),u._41(512,gn.i,gn.i,[]),u._41(512,gn.s,gn.s,[]),u._41(512,jn.a,jn.a,[]),u._41(512,r.b,r.b,[]),u._41(512,p.a,p.a,[]),u._41(512,Rn.a,Rn.a,[]),u._41(512,s.a,s.a,[]),u._41(512,jn.b,jn.b,[]),u._41(512,g,g,[]),u._41(256,S.c,void 0,[]),u._41(256,S.b,void 0,[]),u._41(256,On.a,y,[])])})}});