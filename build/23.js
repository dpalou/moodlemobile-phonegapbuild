webpackJsonp([23],{2093:function(n,l,e){"use strict";function a(n){return w._57(0,[(n()(),w._31(0,0,null,null,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,l,e){var a=!0;if("ionRefresh"===l){a=!1!==n.component.refreshAssessment(e)&&a}return a},null,null)),w._30(1,212992,null,0,gn.a,[pn.a,vn.a,w.M,bn.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(n()(),w._55(-1,null,["\n        "])),(n()(),w._31(3,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,kn.b,kn.a)),w._30(4,114688,null,0,In.a,[gn.a,wn.a],{pullingText:[0,"pullingText"]},null),w._47(131072,yn.a,[xn.a,w.j]),(n()(),w._55(-1,null,["\n    "]))],function(n,l){n(l,1,0,l.component.loaded);n(l,4,0,w._34(1,"",w._56(l,4,0,w._44(l,5).transform("core.pulltorefresh")),""))},function(n,l){n(l,0,0,"inactive"!==w._44(l,1).state,w._44(l,1)._top);n(l,3,0,w._44(l,4).r.state)})}function t(n){return w._57(0,[(n()(),w._31(0,0,null,null,2,"ion-avatar",[["core-user-avatar",""],["item-start",""]],null,null,null,Cn.b,Cn.a)),w._30(1,770048,null,0,Pn.a,[En.a,O.a,Ln.a,Vn.a,V.a,[2,On.a]],{user:[0,"user"],userId:[1,"userId"],courseId:[2,"courseId"]},null),w._30(2,16384,null,0,jn.a,[],null,null)],function(n,l){var e=l.component;n(l,1,0,e.profile,e.profile.id,e.courseId)},null)}function u(n){return w._57(0,[(n()(),w._31(0,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),w._55(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.profile.fullname)})}function o(n){return w._57(0,[(n()(),w._31(0,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),w._55(1,null,["\n                ",": ","\n            "])),w._48(2,{$a:0}),w._47(131072,yn.a,[xn.a,w.j])],null,function(n,l){var e=l.component;n(l,1,0,w._56(l,1,0,w._44(l,3).transform("addon.mod_workshop.submissiongradeof",n(l,2,0,e.workshop.grade))),e.assessment.grade)})}function s(n){return w._57(0,[(n()(),w._31(0,0,null,null,3,"p",[],[[2,"core-has-overriden-grade",null]],null,null,null,null)),(n()(),w._55(1,null,["\n                ",": ","\n            "])),w._48(2,{$a:0}),w._47(131072,yn.a,[xn.a,w.j])],null,function(n,l){var e=l.component;n(l,0,0,e.showGrade(e.assessment.gradinggrade));n(l,1,0,w._56(l,1,0,w._44(l,3).transform("addon.mod_workshop.gradinggradeof",n(l,2,0,e.workshop.gradinggrade))),e.assessment.gradinggrade)})}function r(n){return w._57(0,[(n()(),w._31(0,0,null,null,2,"p",[["class","core-overriden-grade"]],null,null,null,null,null)),(n()(),w._55(1,null,["\n                ",": ","\n            "])),w._47(131072,yn.a,[xn.a,w.j])],null,function(n,l){var e=l.component;n(l,1,0,w._56(l,1,0,w._44(l,2).transform("addon.mod_workshop.gradinggradeover")),e.assessment.gradinggradeover)})}function i(n){return w._57(0,[(n()(),w._31(0,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),w._55(1,null,["\n                ","\n            "])),w._48(2,{$a:0}),w._47(131072,yn.a,[xn.a,w.j])],null,function(n,l){var e=l.component;n(l,1,0,w._56(l,1,0,w._44(l,3).transform("addon.mod_workshop.weightinfo",n(l,2,0,e.assessment.weight))))})}function _(n){return w._57(0,[(n()(),w._31(0,0,null,null,3,"ion-badge",[["color","danger"]],null,null,null,null,null)),w._30(1,16384,null,0,Sn.a,[wn.a,w.t,w.V],{color:[0,"color"]},null),(n()(),w._55(2,null,["\n                ","\n            "])),w._47(131072,yn.a,[xn.a,w.j])],function(n,l){n(l,1,0,"danger")},function(n,l){n(l,2,0,w._56(l,2,0,w._44(l,3).transform("addon.mod_workshop.notassessed")))})}function c(n){return w._57(0,[(n()(),w._31(0,0,null,null,1,"addon-mod-workshop-assessment-strategy",[],null,null,null,Dn.b,Dn.a)),w._30(1,245760,null,0,Fn.a,[xn.a,w.C,V.a,An.a,j.a,S.a,D.a,Ln.a,O.a,Rn.a,U.a,M.a,G.a,Un.a],{workshop:[0,"workshop"],access:[1,"access"],assessmentId:[2,"assessmentId"],userId:[3,"userId"],strategy:[4,"strategy"]},null)],function(n,l){var e=l.component;n(l,1,0,e.workshop,e.access,e.assessmentId,e.profile&&e.profile.id,e.strategy)},null)}function d(n){return w._57(0,[(n()(),w._31(0,0,null,null,2,"ion-option",[],null,null,null,null,null)),w._30(1,16384,[[12,4]],0,Mn.a,[w.t],{value:[0,"value"]},null),(n()(),w._55(2,null,["",""]))],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,2,0,l.context.$implicit)})}function f(n){return w._57(0,[(n()(),w._31(0,0,null,null,26,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,Gn.b,Gn.a)),w._30(1,1097728,null,3,qn.a,[Tn.a,wn.a,w.t,w.V,[2,$n.a]],null,null),w._52(335544320,9,{contentLabel:0}),w._52(603979776,10,{_buttons:1}),w._52(603979776,11,{_icons:1}),w._30(5,16384,null,0,Nn.a,[],null,null),(n()(),w._55(-1,2,["\n                "])),(n()(),w._31(7,0,null,1,4,"ion-label",[["core-mark-required","true"],["stacked",""]],null,null,null,Bn.b,Bn.a)),w._30(8,4308992,null,0,Hn.a,[w.t,xn.a,D.a,Ln.a],{coreMarkRequired:[0,"coreMarkRequired"]},null),w._30(9,16384,[[9,4]],0,Wn.a,[wn.a,w.t,w.V,[8,null],[8,""],[8,null],[8,null]],null,null),(n()(),w._55(10,0,["",""])),w._47(131072,yn.a,[xn.a,w.j]),(n()(),w._55(-1,2,["\n                "])),(n()(),w._31(13,0,null,3,12,"ion-select",[["formControlName","weight"],["interface","action-sheet"],["required","true"]],[[1,"required",0],[2,"select-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"],[null,"keyup.space"]],function(n,l,e){var a=!0;if("click"===l){a=!1!==w._44(n,16)._click(e)&&a}if("keyup.space"===l){a=!1!==w._44(n,16)._keyup()&&a}return a},zn.b,zn.a)),w._30(14,16384,null,0,L.t,[],{required:[0,"required"]},null),w._50(1024,null,L.k,function(n){return[n]},[L.t]),w._30(16,1228800,null,1,Jn.a,[Kn.a,Tn.a,wn.a,w.t,w.V,[2,qn.a],Yn.a],{interface:[0,"interface"]},null),w._52(603979776,12,{options:1}),w._50(1024,null,L.l,function(n){return[n]},[Jn.a]),w._30(19,671744,null,0,L.f,[[3,L.b],[2,L.k],[8,null],[2,L.l]],{name:[0,"name"]},null),w._50(2048,null,L.m,null,[L.f]),w._30(21,16384,null,0,L.n,[L.m],null,null),(n()(),w._55(-1,null,["\n                    "])),(n()(),w._26(16777216,null,null,1,null,d)),w._30(24,802816,null,0,Qn.j,[w._11,w._6,w.E],{ngForOf:[0,"ngForOf"]},null),(n()(),w._55(-1,null,["\n                "])),(n()(),w._55(-1,2,["\n            "]))],function(n,l){var e=l.component;n(l,8,0,"true");n(l,14,0,"true");n(l,16,0,"action-sheet");n(l,19,0,"weight");n(l,24,0,e.weights)},function(n,l){n(l,10,0,w._56(l,10,0,w._44(l,11).transform("addon.mod_workshop.assessmentweight")));n(l,13,0,w._44(l,14).required?"":null,w._44(l,16)._disabled,w._44(l,21).ngClassUntouched,w._44(l,21).ngClassTouched,w._44(l,21).ngClassPristine,w._44(l,21).ngClassDirty,w._44(l,21).ngClassValid,w._44(l,21).ngClassInvalid,w._44(l,21).ngClassPending)})}function m(n){return w._57(0,[(n()(),w._31(0,0,null,null,2,"ion-option",[],null,null,null,null,null)),w._30(1,16384,[[19,4]],0,Mn.a,[w.t],{value:[0,"value"]},null),(n()(),w._55(2,null,["",""]))],function(n,l){n(l,1,0,l.context.$implicit.value)},function(n,l){n(l,2,0,l.context.$implicit.label)})}function h(n){return w._57(0,[(n()(),w._31(0,0,null,null,23,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,Gn.b,Gn.a)),w._30(1,1097728,null,3,qn.a,[Tn.a,wn.a,w.t,w.V,[2,$n.a]],null,null),w._52(335544320,16,{contentLabel:0}),w._52(603979776,17,{_buttons:1}),w._52(603979776,18,{_icons:1}),w._30(5,16384,null,0,Nn.a,[],null,null),(n()(),w._55(-1,2,["\n                "])),(n()(),w._31(7,0,null,1,3,"ion-label",[["stacked",""]],null,null,null,null,null)),w._30(8,16384,[[16,4]],0,Wn.a,[wn.a,w.t,w.V,[8,null],[8,""],[8,null],[8,null]],null,null),(n()(),w._55(9,null,["",""])),w._47(131072,yn.a,[xn.a,w.j]),(n()(),w._55(-1,2,["\n                "])),(n()(),w._31(12,0,null,3,10,"ion-select",[["formControlName","grade"],["interface","action-sheet"]],[[2,"select-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"],[null,"keyup.space"]],function(n,l,e){var a=!0;if("click"===l){a=!1!==w._44(n,13)._click(e)&&a}if("keyup.space"===l){a=!1!==w._44(n,13)._keyup()&&a}return a},zn.b,zn.a)),w._30(13,1228800,null,1,Jn.a,[Kn.a,Tn.a,wn.a,w.t,w.V,[2,qn.a],Yn.a],{interface:[0,"interface"]},null),w._52(603979776,19,{options:1}),w._50(1024,null,L.l,function(n){return[n]},[Jn.a]),w._30(16,671744,null,0,L.f,[[3,L.b],[8,null],[8,null],[2,L.l]],{name:[0,"name"]},null),w._50(2048,null,L.m,null,[L.f]),w._30(18,16384,null,0,L.n,[L.m],null,null),(n()(),w._55(-1,null,["\n                    "])),(n()(),w._26(16777216,null,null,1,null,m)),w._30(21,802816,null,0,Qn.j,[w._11,w._6,w.E],{ngForOf:[0,"ngForOf"]},null),(n()(),w._55(-1,null,["\n                "])),(n()(),w._55(-1,2,["\n            "]))],function(n,l){var e=l.component;n(l,13,0,"action-sheet");n(l,16,0,"grade");n(l,21,0,e.evaluationGrades)},function(n,l){n(l,9,0,w._56(l,9,0,w._44(l,10).transform("addon.mod_workshop.gradinggradeover")));n(l,12,0,w._44(l,13)._disabled,w._44(l,18).ngClassUntouched,w._44(l,18).ngClassTouched,w._44(l,18).ngClassPristine,w._44(l,18).ngClassDirty,w._44(l,18).ngClassValid,w._44(l,18).ngClassInvalid,w._44(l,18).ngClassPending)})}function g(n){return w._57(0,[(n()(),w._31(0,0,null,null,18,"ion-item",[["class","item item-block"]],null,null,null,Gn.b,Gn.a)),w._30(1,1097728,null,3,qn.a,[Tn.a,wn.a,w.t,w.V,[2,$n.a]],null,null),w._52(335544320,20,{contentLabel:0}),w._52(603979776,21,{_buttons:1}),w._52(603979776,22,{_icons:1}),w._30(5,16384,null,0,Nn.a,[],null,null),(n()(),w._55(-1,2,["\n                "])),(n()(),w._31(7,0,null,1,3,"ion-label",[["stacked",""]],null,null,null,null,null)),w._30(8,16384,[[20,4]],0,Wn.a,[wn.a,w.t,w.V,[8,null],[8,""],[8,null],[8,null]],null,null),(n()(),w._55(9,null,["",""])),w._47(131072,yn.a,[xn.a,w.j]),(n()(),w._55(-1,2,["\n                "])),(n()(),w._31(12,0,null,3,5,"core-rich-text-editor",[["contextLevel","module"],["elementId","feedbackreviewer_editor"],["formControlName","text"],["item-content",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,mn.c,mn.b)),w._30(13,1228800,null,0,Xn.a,[S.a,Zn.a,O.a,nl.a,[2,vn.a],w.t,V.a,Ln.a,pn.a,ll.a],{control:[0,"control"],autoSave:[1,"autoSave"],contextLevel:[2,"contextLevel"],contextInstanceId:[3,"contextInstanceId"],elementId:[4,"elementId"],draftExtraParams:[5,"draftExtraParams"]},null),w._48(14,{asid:0}),w._30(15,671744,null,0,L.f,[[3,L.b],[8,null],[8,null],[8,null]],{name:[0,"name"]},null),w._50(2048,null,L.m,null,[L.f]),w._30(17,16384,null,0,L.n,[L.m],null,null),(n()(),w._55(-1,2,["\n            "]))],function(n,l){var e=l.component;n(l,13,0,e.evaluateForm.controls.text,!0,"module",e.workshop.coursemodule,"feedbackreviewer_editor",n(l,14,0,e.assessmentId));n(l,15,0,"text")},function(n,l){n(l,9,0,w._56(l,9,0,w._44(l,10).transform("addon.mod_workshop.feedbackreviewer")));n(l,12,0,w._44(l,17).ngClassUntouched,w._44(l,17).ngClassTouched,w._44(l,17).ngClassPristine,w._44(l,17).ngClassDirty,w._44(l,17).ngClassValid,w._44(l,17).ngClassInvalid,w._44(l,17).ngClassPending)})}function p(n){return w._57(0,[(n()(),w._31(0,0,[[1,0],["evaluateFormEl",1]],null,41,"form",[["ion-list",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var a=!0;if("submit"===l){a=!1!==w._44(n,2).onSubmit(e)&&a}if("reset"===l){a=!1!==w._44(n,2).onReset()&&a}return a},null,null)),w._30(1,16384,null,0,L.w,[],null,null),w._30(2,540672,null,0,L.h,[[8,null],[8,null]],{form:[0,"form"]},null),w._50(2048,null,L.b,null,[L.h]),w._30(4,16384,null,0,L.o,[L.b],null,null),(n()(),w._55(-1,null,["\n            "])),(n()(),w._31(6,0,null,null,10,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,Gn.b,Gn.a)),w._30(7,1097728,null,3,qn.a,[Tn.a,wn.a,w.t,w.V,[2,$n.a]],null,null),w._52(335544320,6,{contentLabel:0}),w._52(603979776,7,{_buttons:1}),w._52(603979776,8,{_icons:1}),w._30(11,16384,null,0,Nn.a,[],null,null),(n()(),w._55(-1,2,["\n                "])),(n()(),w._31(13,0,null,2,2,"h2",[],null,null,null,null,null)),(n()(),w._55(14,null,["",""])),w._47(131072,yn.a,[xn.a,w.j]),(n()(),w._55(-1,2,["\n            "])),(n()(),w._55(-1,null,["\n            "])),(n()(),w._26(16777216,null,null,1,null,f)),w._30(19,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,null,["\n            "])),(n()(),w._31(21,0,null,null,13,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,Gn.b,Gn.a)),w._30(22,1097728,null,3,qn.a,[Tn.a,wn.a,w.t,w.V,[2,$n.a]],null,null),w._52(335544320,13,{contentLabel:0}),w._52(603979776,14,{_buttons:1}),w._52(603979776,15,{_icons:1}),w._30(26,16384,null,0,Nn.a,[],null,null),(n()(),w._55(-1,2,["\n                "])),(n()(),w._31(28,0,null,2,2,"h2",[],null,null,null,null,null)),(n()(),w._55(29,null,["",""])),w._47(131072,yn.a,[xn.a,w.j]),(n()(),w._55(-1,2,["\n                "])),(n()(),w._31(32,0,null,2,1,"p",[],null,null,null,null,null)),(n()(),w._55(33,null,["",""])),(n()(),w._55(-1,2,["\n            "])),(n()(),w._55(-1,null,["\n            "])),(n()(),w._26(16777216,null,null,1,null,h)),w._30(37,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,null,["\n            "])),(n()(),w._26(16777216,null,null,1,null,g)),w._30(40,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,null,["\n        "]))],function(n,l){var e=l.component;n(l,2,0,e.evaluateForm);n(l,19,0,e.access.canallocate);n(l,37,0,e.access.canoverridegrades);n(l,40,0,e.access.canoverridegrades)},function(n,l){var e=l.component;n(l,0,0,w._44(l,4).ngClassUntouched,w._44(l,4).ngClassTouched,w._44(l,4).ngClassPristine,w._44(l,4).ngClassDirty,w._44(l,4).ngClassValid,w._44(l,4).ngClassInvalid,w._44(l,4).ngClassPending);n(l,14,0,w._56(l,14,0,w._44(l,15).transform("addon.mod_workshop.assessmentsettings")));n(l,29,0,w._56(l,29,0,w._44(l,30).transform("addon.mod_workshop.gradinggradecalculated")));n(l,33,0,e.assessment.gradinggrade)})}function v(n){return w._57(0,[(n()(),w._31(0,0,null,null,2,"ion-avatar",[["core-user-avatar",""],["item-start",""]],null,null,null,Cn.b,Cn.a)),w._30(1,770048,null,0,Pn.a,[En.a,O.a,Ln.a,Vn.a,V.a,[2,On.a]],{user:[0,"user"],userId:[1,"userId"],courseId:[2,"courseId"]},null),w._30(2,16384,null,0,jn.a,[],null,null)],function(n,l){var e=l.component;n(l,1,0,e.evaluateGradingByProfile,e.evaluateGradingByProfile.id,e.courseId)},null)}function b(n){return w._57(0,[(n()(),w._31(0,0,null,null,3,"h2",[],null,null,null,null,null)),(n()(),w._55(1,null,["",""])),w._48(2,{$a:0}),w._47(131072,yn.a,[xn.a,w.j])],null,function(n,l){var e=l.component;n(l,1,0,w._56(l,1,0,w._44(l,3).transform("addon.mod_workshop.feedbackby",n(l,2,0,e.evaluateGradingByProfile.fullname))))})}function k(n){return w._57(0,[(n()(),w._31(0,0,null,null,19,"ion-list",[],null,null,null,null,null)),w._30(1,16384,null,0,el.a,[wn.a,w.t,w.V,pn.a,bn.l,al.a],null,null),(n()(),w._55(-1,null,["\n            "])),(n()(),w._31(3,0,null,null,15,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,Gn.b,Gn.a)),w._30(4,1097728,null,3,qn.a,[Tn.a,wn.a,w.t,w.V,[2,$n.a]],null,null),w._52(335544320,23,{contentLabel:0}),w._52(603979776,24,{_buttons:1}),w._52(603979776,25,{_icons:1}),w._30(8,16384,null,0,Nn.a,[],null,null),(n()(),w._55(-1,2,["\n                "])),(n()(),w._26(16777216,null,0,1,null,v)),w._30(11,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,2,["\n                "])),(n()(),w._26(16777216,null,2,1,null,b)),w._30(14,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,2,["\n                "])),(n()(),w._31(16,16777216,null,2,1,"core-format-text",[["contextLevel","module"]],null,null,null,null,null)),w._30(17,540672,null,0,tl.a,[w.t,O.a,S.a,D.a,xn.a,pn.a,Ln.a,Zn.a,ul.a,nl.a,Vn.a,ol.a,[2,En.a],[2,vn.a],[2,On.a],sl.a,V.a,rl.a,il.a,_l.a,w._11],{text:[0,"text"],contextLevel:[1,"contextLevel"],contextInstanceId:[2,"contextInstanceId"],courseId:[3,"courseId"]},null),(n()(),w._55(-1,2,["\n            "])),(n()(),w._55(-1,null,["\n        "]))],function(n,l){var e=l.component;n(l,11,0,e.evaluateGradingByProfile);n(l,14,0,e.evaluateGradingByProfile&&e.evaluateGradingByProfile.fullname);n(l,17,0,e.evaluate.text,"module",e.workshop.coursemodule,e.courseId)},null)}function I(n){return w._57(0,[w._52(671088640,1,{formElement:0}),(n()(),w._31(1,0,null,null,23,"ion-header",[],null,null,null,null,null)),w._30(2,16384,null,0,cl.a,[wn.a,w.t,w.V,[2,dl.a]],null,null),(n()(),w._55(-1,null,["\n    "])),(n()(),w._31(4,0,null,null,19,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,fl.b,fl.a)),w._30(5,49152,null,0,ml.a,[Kn.a,[2,dl.a],[2,En.a],wn.a,w.t,w.V],null,null),w._30(6,212992,null,0,hl.a,[ml.a,pn.a,xn.a,V.a],null,null),(n()(),w._55(-1,3,["\n        "])),(n()(),w._31(8,0,null,3,3,"ion-title",[],null,null,null,gl.b,gl.a)),w._30(9,49152,null,0,pl.a,[wn.a,w.t,w.V,[2,vl.a],[2,ml.a]],null,null),(n()(),w._31(10,16777216,null,0,1,"core-format-text",[["contextLevel","module"]],null,null,null,null,null)),w._30(11,540672,null,0,tl.a,[w.t,O.a,S.a,D.a,xn.a,pn.a,Ln.a,Zn.a,ul.a,nl.a,Vn.a,ol.a,[2,En.a],[2,vn.a],[2,On.a],sl.a,V.a,rl.a,il.a,_l.a,w._11],{text:[0,"text"],contextLevel:[1,"contextLevel"],contextInstanceId:[2,"contextInstanceId"],courseId:[3,"courseId"]},null),(n()(),w._55(-1,3,["\n        "])),(n()(),w._31(13,0,null,2,9,"ion-buttons",[["end",""]],[[8,"hidden",0]],null,null,null,null)),w._30(14,16384,null,1,bl.a,[wn.a,w.t,w.V,[2,vl.a],[2,ml.a]],null,null),w._52(603979776,2,{_buttons:1}),(n()(),w._55(-1,null,["\n            "])),(n()(),w._31(17,0,null,null,4,"button",[["clear",""],["ion-button",""]],[[1,"aria-label",0]],[[null,"click"]],function(n,l,e){var a=!0;if("click"===l){a=!1!==n.component.saveEvaluation()&&a}return a},kl.b,kl.a)),w._30(18,1097728,[[2,4]],0,Il.a,[[8,""],wn.a,w.t,w.V],{clear:[0,"clear"]},null),w._47(131072,yn.a,[xn.a,w.j]),(n()(),w._55(20,0,["\n                ","\n            "])),w._47(131072,yn.a,[xn.a,w.j]),(n()(),w._55(-1,null,["\n        "])),(n()(),w._55(-1,3,["\n    "])),(n()(),w._55(-1,null,["\n"])),(n()(),w._55(-1,null,["\n"])),(n()(),w._31(26,0,null,null,47,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,wl.b,wl.a)),w._30(27,4374528,null,0,vn.a,[wn.a,pn.a,al.a,w.t,w.V,Kn.a,yl.a,w.M,[2,dl.a],[2,En.a]],null,null),(n()(),w._55(-1,1,["\n    "])),(n()(),w._26(16777216,null,2,1,null,a)),w._30(30,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,1,["\n    "])),(n()(),w._31(32,0,null,1,40,"core-loading",[],null,null,null,xl.b,xl.a)),w._30(33,638976,null,0,Cl.a,[xn.a,w.t,V.a,Ln.a],{hideUntil:[0,"hideUntil"]},null),(n()(),w._55(-1,0,["\n\n        "])),(n()(),w._31(35,0,null,0,27,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,Gn.b,Gn.a)),w._30(36,1097728,null,3,qn.a,[Tn.a,wn.a,w.t,w.V,[2,$n.a]],null,null),w._52(335544320,3,{contentLabel:0}),w._52(603979776,4,{_buttons:1}),w._52(603979776,5,{_icons:1}),w._30(40,16384,null,0,Nn.a,[],null,null),(n()(),w._55(-1,2,["\n            "])),(n()(),w._26(16777216,null,0,1,null,t)),w._30(43,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,2,["\n\n            "])),(n()(),w._26(16777216,null,2,1,null,u)),w._30(46,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,2,["\n\n            "])),(n()(),w._26(16777216,null,2,1,null,o)),w._30(49,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,2,["\n            "])),(n()(),w._26(16777216,null,2,1,null,s)),w._30(52,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,2,["\n            "])),(n()(),w._26(16777216,null,2,1,null,r)),w._30(55,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,2,["\n            "])),(n()(),w._26(16777216,null,2,1,null,i)),w._30(58,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,2,["\n            "])),(n()(),w._26(16777216,null,2,1,null,_)),w._30(61,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,2,["\n        "])),(n()(),w._55(-1,0,["\n\n        "])),(n()(),w._26(16777216,null,0,1,null,c)),w._30(65,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,0,["\n\n        "])),(n()(),w._26(16777216,null,0,1,null,p)),w._30(68,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,0,["\n        "])),(n()(),w._26(16777216,null,0,1,null,k)),w._30(71,16384,null,0,Qn.k,[w._11,w._6],{ngIf:[0,"ngIf"]},null),(n()(),w._55(-1,0,["\n    "])),(n()(),w._55(-1,1,["\n"])),(n()(),w._55(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,6,0);n(l,11,0,e.title,"module",e.workshop&&e.workshop.coursemodule,e.courseId);n(l,18,0,"");n(l,30,0,!e.evaluating);n(l,33,0,e.loaded);n(l,43,0,e.profile);n(l,46,0,e.profile&&e.profile.fullname);n(l,49,0,e.workshop&&e.assessment&&e.showGrade(e.assessment.grade));n(l,52,0,e.access&&e.access.canviewallsubmissions&&e.assessment&&e.showGrade(e.assessment.gradinggrade));n(l,55,0,e.access&&e.access.canviewallsubmissions&&e.assessment&&e.showGrade(e.assessment.gradinggradeover));n(l,58,0,e.assessment&&e.assessment.weight&&1!=e.assessment.weight);n(l,61,0,!e.assessment||!e.showGrade(e.assessment.grade));n(l,65,0,e.assessment&&e.assessmentId&&e.showGrade(e.assessment.grade)&&e.workshop&&e.access);n(l,68,0,e.evaluating);n(l,71,0,!e.evaluating&&e.evaluate&&e.evaluate.text)},function(n,l){var e=l.component;n(l,4,0,w._44(l,5)._hidden,w._44(l,5)._sbPadding);n(l,13,0,!e.evaluating);n(l,17,0,w._56(l,17,0,w._44(l,19).transform("core.save")));n(l,20,0,w._56(l,20,0,w._44(l,21).transform("core.save")));n(l,26,0,w._44(l,27).statusbarPadding,w._44(l,27)._hasRefresher)})}Object.defineProperty(l,"__esModule",{value:!0});var w=e(0),y=e(5),x=e(3),C=e(26),P=e(32),E=e(484),L=e(23),V=e(9),O=e(1),j=e(81),S=e(4),D=e(11),F=e(13),A=e(45),R=e(184),U=e(175),M=e(202),G=e(189),q=e(291),T=this&&this.__decorate||function(n,l,e,a){var t,u=arguments.length,o=u<3?l:null===a?a=Object.getOwnPropertyDescriptor(l,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,l,e,a);else for(var s=n.length-1;s>=0;s--)(t=n[s])&&(o=(u<3?t(o):u>3?t(l,e,o):t(l,e))||o);return u>3&&o&&Object.defineProperty(l,e,o),o},$=this&&this.__metadata||function(n,l){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,l)},N=this&&this.__awaiter||function(n,l,e,a){return new(e||(e=Promise))(function(t,u){function o(n){try{r(a.next(n))}catch(n){u(n)}}function s(n){try{r(a.throw(n))}catch(n){u(n)}}function r(n){n.done?t(n.value):new e(function(l){l(n.value)}).then(o,s)}r((a=a.apply(n,l||[])).next())})},B=this&&this.__generator||function(n,l){function e(e){return function(o){return function(e){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,t&&(u=t[2&e[0]?"return":e[0]?"throw":"next"])&&!(u=u.call(t,e[1])).done)return u;switch(t=0,u&&(e=[0,u.value]),e[0]){case 0:case 1:u=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,t=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(u=s.trys,!(u=u.length>0&&u[u.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){s.label=e[1];break}if(6===e[0]&&s.label<u[1]){s.label=u[1],u=e;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(e);break}u[2]&&s.ops.pop(),s.trys.pop();continue}e=l.call(n,s)}catch(n){e=[6,n],t=0}finally{a=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,o])}}var a,t,u,o,s={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},H=function(){function n(n,l,e,a,t,u,o,s,r,i,_,c,d,f,m){var h=this;this.courseProvider=e,this.workshopProvider=a,this.workshopOffline=t,this.workshopHelper=u,this.navCtrl=o,this.syncProvider=s,this.textUtils=r,this.fb=i,this.translate=_,this.eventsProvider=c,this.domUtils=d,this.gradesHelper=f,this.userProvider=m,this.evaluating=!1,this.loaded=!1,this.evaluate={text:"",grade:-1,weight:1},this.weights=[],this.originalEvaluation={},this.hasOffline=!1,this.isDestroyed=!1,this.forceLeave=!1,this.assessment=n.get("assessment"),this.submission=n.get("submission")||{},this.profile=n.get("profile"),this.courseId=n.get("courseId"),this.assessmentId=this.assessment.assessmentid||this.assessment.id,this.workshopId=this.submission.workshopid||null,this.siteId=l.getCurrentSiteId(),this.currentUserId=l.getCurrentSiteUserId(),this.showGrade=this.workshopHelper.showGrade,this.evaluateForm=new L.g({}),this.evaluateForm.addControl("weight",this.fb.control("",L.u.required)),this.evaluateForm.addControl("grade",this.fb.control("")),this.evaluateForm.addControl("text",this.fb.control("")),this.syncObserver=this.eventsProvider.on(q.a.AUTO_SYNCED,function(n){h.workshopId===n.workshopId&&(h.loaded=!1,h.refreshAllData())},this.siteId)}return n.prototype.ngOnInit=function(){this.fetchAssessmentData()},n.prototype.ionViewCanLeave=function(){return N(this,void 0,void 0,function(){return B(this,function(n){switch(n.label){case 0:return this.forceLeave||!this.evaluating?[2]:this.hasEvaluationChanged()?[4,this.domUtils.showConfirm(this.translate.instant("core.confirmcanceledit"))]:[2];case 1:return n.sent(),this.domUtils.triggerFormCancelledEvent(this.formElement.nativeElement,this.siteId),[2]}})})},n.prototype.fetchAssessmentData=function(){var n=this;return this.workshopProvider.getWorkshopById(this.courseId,this.workshopId).then(function(l){return n.workshop=l,n.title=n.workshop.name,n.strategy=n.workshop.strategy,n.courseProvider.getModuleBasicGradeInfo(l.coursemodule)}).then(function(l){return n.maxGrade=l.grade,n.workshopProvider.getWorkshopAccessInformation(n.workshopId)}).then(function(l){if(n.access=l,n.assessmentId&&(l.canallocate||l.canoverridegrades)?(n.isDestroyed||n.syncProvider.blockOperation(U.a.COMPONENT,n.workshopId),n.evaluating=!0):n.evaluating=!1,n.evaluating||n.workshop.phase==U.a.PHASE_CLOSED)return n.workshopHelper.getReviewerAssessmentById(n.workshopId,n.assessmentId,n.profile&&n.profile.id).then(function(e){var a,t;if(n.assessment=n.workshopHelper.realGradeValue(n.workshop,e),n.evaluate.text=n.assessment.feedbackreviewer||"",n.evaluate.weight=n.assessment.weight,n.evaluating){if(l.canallocate){n.weights=[];for(var u=16;u>=0;u--)n.weights[u]=u}return l.canoverridegrades?(a=n.translate.instant("addon.mod_workshop.notoverridden"),t=n.gradesHelper.makeGradesMenu(n.workshop.gradinggrade,void 0,a,-1).then(function(l){n.evaluationGrades=l})):t=Promise.resolve(),t.then(function(){return n.workshopOffline.getEvaluateAssessment(n.workshopId,n.assessmentId).then(function(e){n.hasOffline=!0,n.evaluate.weight=e.weight,l.canoverridegrades&&(n.evaluate.text=e.feedbacktext||"",n.evaluate.grade=e.gradinggradeover||-1)}).catch(function(){n.hasOffline=!1,l.canoverridegrades&&(n.evaluate.text=n.assessment.feedbackreviewer||"",n.evaluate.grade=n.assessment.gradinggradeover||-1)})}).finally(function(){n.originalEvaluation.weight=n.evaluate.weight,l.canoverridegrades&&(n.originalEvaluation.text=n.evaluate.text,n.originalEvaluation.grade=n.evaluate.grade),n.evaluateForm.controls.weight.setValue(n.evaluate.weight),l.canoverridegrades&&(n.evaluateForm.controls.grade.setValue(n.evaluate.grade),n.evaluateForm.controls.text.setValue(n.evaluate.text))})}if(n.workshop.phase==U.a.PHASE_CLOSED&&n.assessment.gradinggradeoverby)return n.userProvider.getProfile(n.assessment.gradinggradeoverby,n.courseId,!0).then(function(l){n.evaluateByProfile=l})})}).catch(function(l){n.domUtils.showErrorModalDefault(l,"mm.course.errorgetmodule",!0)}).finally(function(){n.loaded=!0})},n.prototype.forceLeavePage=function(){this.forceLeave=!0,this.navCtrl.pop()},n.prototype.hasEvaluationChanged=function(){if(!this.loaded||!this.evaluating)return!1;var n=this.evaluateForm.value;if(this.originalEvaluation.weight!=n.weight)return!0;if(this.access&&this.access.canoverridegrades){if(this.originalEvaluation.text!=n.text)return!0;if(this.originalEvaluation.grade!=n.grade)return!0}return!1},n.prototype.refreshAllData=function(){var n=this,l=[];return l.push(this.workshopProvider.invalidateWorkshopData(this.courseId)),l.push(this.workshopProvider.invalidateWorkshopAccessInformationData(this.workshopId)),l.push(this.workshopProvider.invalidateReviewerAssesmentsData(this.workshopId)),this.assessmentId&&(l.push(this.workshopProvider.invalidateAssessmentFormData(this.workshopId,this.assessmentId)),l.push(this.workshopProvider.invalidateAssessmentData(this.workshopId,this.assessmentId))),Promise.all(l).finally(function(){return n.eventsProvider.trigger(U.a.ASSESSMENT_INVALIDATED,n.siteId),n.fetchAssessmentData()})},n.prototype.refreshAssessment=function(n){this.loaded&&this.refreshAllData().finally(function(){n.complete()})},n.prototype.saveEvaluation=function(){var n=this;this.hasEvaluationChanged()?this.sendEvaluation().then(function(){n.forceLeavePage()}):this.forceLeavePage()},n.prototype.sendEvaluation=function(){var n=this,l=this.domUtils.showModalLoading("core.sending",!0),e=this.evaluateForm.value;return e.grade=e.grade>=0?e.grade:"",e.text=this.textUtils.formatHtmlLines(e.text),this.workshopProvider.evaluateAssessment(this.workshopId,this.assessmentId,this.courseId,e.text,e.weight,e.grade).then(function(l){n.domUtils.triggerFormSubmittedEvent(n.formElement.nativeElement,!!l,n.siteId);var e={workshopId:n.workshopId,assessmentId:n.assessmentId,userId:n.currentUserId};return n.workshopProvider.invalidateAssessmentData(n.workshopId,n.assessmentId).finally(function(){n.eventsProvider.trigger(U.a.ASSESSMENT_SAVED,e,n.siteId)})}).catch(function(l){n.domUtils.showErrorModalDefault(l,"Cannot save assessment evaluation")}).finally(function(){l.dismiss()})},n.prototype.ngOnDestroy=function(){this.isDestroyed=!0,this.syncObserver&&this.syncObserver.off(),this.syncProvider.unblockOperation(U.a.COMPONENT,this.workshopId)},T([Object(w._9)("evaluateFormEl"),$("design:type",w.t)],n.prototype,"formElement",void 0),n=T([Object(w.m)({selector:"page-addon-mod-workshop-assessment-page",templateUrl:"assessment.html"}),$("design:paramtypes",[y.t,O.a,F.a,U.a,G.a,M.a,y.s,j.a,D.a,L.d,x.c,V.a,S.a,R.a,A.a])],n)}(),W=e(214),z=this&&this.__decorate||function(n,l,e,a){var t,u=arguments.length,o=u<3?l:null===a?a=Object.getOwnPropertyDescriptor(l,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,l,e,a);else for(var s=n.length-1;s>=0;s--)(t=n[s])&&(o=(u<3?t(o):u>3?t(l,e,o):t(l,e))||o);return u>3&&o&&Object.defineProperty(l,e,o),o},J=function(){function n(){}return n=z([Object(w.I)({declarations:[H],imports:[P.a,C.a,E.a,W.a,y.l.forChild(H),x.b.forChild()]})],n)}(),K=e(1522),Y=e(1523),Q=e(1524),X=e(1525),Z=e(1526),nn=e(1527),ln=e(1528),en=e(1529),an=e(1530),tn=e(1531),un=e(1532),on=e(1533),sn=e(1534),rn=e(1537),_n=e(1538),cn=e(1535),dn=e(1536),fn=e(1539),mn=e(272),hn=e(1567),gn=e(159),pn=e(16),vn=e(29),bn=e(44),kn=e(212),In=e(173),wn=e(8),yn=e(25),xn=e(18),Cn=e(213),Pn=e(182),En=e(20),Ln=e(2),Vn=e(10),On=e(28),jn=e(160),Sn=e(143),Dn=e(2139),Fn=e(1552),An=e(177),Rn=e(72),Un=e(192),Mn=e(108),Gn=e(31),qn=e(21),Tn=e(19),$n=e(27),Nn=e(33),Bn=e(93),Hn=e(84),Wn=e(67),zn=e(123),Jn=e(109),Kn=e(35),Yn=e(59),Qn=e(7),Xn=e(250),Zn=e(22),nl=e(17),ll=e(216),el=e(86),al=e(34),tl=e(47),ul=e(6),ol=e(15),sl=e(42),rl=e(40),il=e(30),_l=e(36),cl=e(370),dl=e(39),fl=e(721),ml=e(211),hl=e(473),gl=e(722),pl=e(314),vl=e(247),bl=e(371),kl=e(46),Il=e(43),wl=e(181),yl=e(107),xl=e(54),Cl=e(51),Pl=e(69),El=w._29({encapsulation:2,styles:[],data:{}}),Ll=w._27("page-addon-mod-workshop-assessment-page",H,function(n){return w._57(0,[(n()(),w._31(0,0,null,null,1,"page-addon-mod-workshop-assessment-page",[],null,null,null,I,El)),w._30(1,245760,null,0,H,[Pl.a,O.a,F.a,U.a,G.a,M.a,En.a,j.a,D.a,L.d,xn.a,V.a,S.a,R.a,A.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),Vl=e(366),Ol=e(367),jl=e(369),Sl=e(368),Dl=e(472),Fl=e(720),Al=e(106),Rl=e(271),Ul=e(74),Ml=e(270);e.d(l,"AddonModWorkshopAssessmentPageModuleNgFactory",function(){return Gl});var Gl=w._28(J,[],function(n){return w._40([w._41(512,w.o,w._21,[[8,[K.a,Y.a,Q.a,X.a,Z.a,nn.a,ln.a,en.a,an.a,tn.a,un.a,on.a,sn.a,rn.a,_n.a,cn.a,dn.a,fn.a,mn.a,hn.a,Ll]],[3,w.o],w.K]),w._41(4608,Qn.m,Qn.l,[w.G,[2,Qn.w]]),w._41(4608,L.x,L.x,[]),w._41(4608,L.d,L.d,[]),w._41(4608,Vl.b,Vl.a,[]),w._41(4608,Ol.a,Ol.b,[]),w._41(4608,jl.b,jl.a,[]),w._41(4608,Sl.b,Sl.a,[]),w._41(4608,xn.a,xn.a,[Dl.a,Vl.b,Ol.a,jl.b,Sl.b,xn.b,xn.c]),w._41(512,P.a,P.a,[]),w._41(512,Qn.b,Qn.b,[]),w._41(512,L.v,L.v,[]),w._41(512,L.i,L.i,[]),w._41(512,L.s,L.s,[]),w._41(512,Fl.a,Fl.a,[]),w._41(512,x.b,x.b,[]),w._41(512,Al.a,Al.a,[]),w._41(512,C.a,C.a,[]),w._41(512,Rl.a,Rl.a,[]),w._41(512,Ul.a,Ul.a,[]),w._41(512,W.a,W.a,[]),w._41(512,E.a,E.a,[]),w._41(512,Fl.b,Fl.b,[]),w._41(512,J,J,[]),w._41(256,xn.c,void 0,[]),w._41(256,xn.b,void 0,[]),w._41(256,Ml.a,H,[])])})},2139:function(n,l,e){"use strict";function a(n){return p._57(0,[(n()(),p._31(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),p._55(-1,null,["\n            "])),(n()(),p._31(2,0,null,null,1,"core-dynamic-component",[],null,null,null,v.b,v.a)),p._30(3,901120,null,0,b.a,[k.a,p.o,p.F,[2,I.a],p.j,p.t,w.a],{component:[0,"component"],data:[1,"data"]},null),(n()(),p._55(-1,null,["\n        "]))],function(n,l){var e=l.component;n(l,3,0,e.componentClass,e.data)},null)}function t(n){return p._57(0,[(n()(),p._31(0,0,null,null,3,"div",[["class","core-info-card"]],null,null,null,null,null)),(n()(),p._55(1,null,["\n            ","\n        "])),p._48(2,{$a:0}),p._47(131072,y.a,[x.a,p.j])],null,function(n,l){var e=l.component;n(l,1,0,p._56(l,1,0,p._44(l,3).transform("addon.mod_workshop.assessmentstrategynotsupported",n(l,2,0,e.strategy))))})}function u(n){return p._57(0,[(n()(),p._31(0,0,null,null,1,"core-input-errors",[["item-content",""]],null,null,null,C.b,C.a)),p._30(1,638976,null,0,P.a,[x.a],{errorText:[0,"errorText"]},null)],function(n,l){n(l,1,0,l.component.fieldErrors.feedbackauthor)},null)}function o(n){return p._57(0,[(n()(),p._31(0,0,null,null,19,"ion-item",[["class","item item-block"],["stacked",""]],null,null,null,E.b,E.a)),p._30(1,1097728,null,3,L.a,[V.a,O.a,p.t,p.V,[2,j.a]],null,null),p._52(335544320,5,{contentLabel:0}),p._52(603979776,6,{_buttons:1}),p._52(603979776,7,{_icons:1}),p._30(5,16384,null,0,S.a,[],null,null),(n()(),p._55(-1,2,["\n                "])),(n()(),p._31(7,0,null,1,4,"ion-label",[["stacked",""]],null,null,null,D.b,D.a)),p._30(8,16384,[[5,4]],0,F.a,[O.a,p.t,p.V,[8,null],[8,""],[8,null],[8,null]],null,null),p._30(9,4308992,null,0,A.a,[p.t,x.a,R.a,U.a],{coreMarkRequired:[0,"coreMarkRequired"]},null),(n()(),p._55(10,0,["",""])),p._47(131072,y.a,[x.a,p.j]),(n()(),p._55(-1,2,["\n                "])),(n()(),p._31(13,0,null,3,2,"core-rich-text-editor",[["contextLevel","module"],["elementId","feedbackauthor_editor"],["item-content",""]],null,[[null,"contentChanged"]],function(n,l,e){var a=!0;if("contentChanged"===l){a=!1!==n.component.onFeedbackChange(e)&&a}return a},M.c,M.b)),p._30(14,1228800,null,0,G.a,[w.a,q.a,T.a,$.a,[2,N.a],p.t,B.a,U.a,H.a,W.a],{control:[0,"control"],component:[1,"component"],componentId:[2,"componentId"],autoSave:[3,"autoSave"],contextLevel:[4,"contextLevel"],contextInstanceId:[5,"contextInstanceId"],elementId:[6,"elementId"],draftExtraParams:[7,"draftExtraParams"]},{contentChanged:"contentChanged"}),p._48(15,{asid:0}),(n()(),p._55(-1,2,["\n                "])),(n()(),p._26(16777216,null,3,1,null,u)),p._30(18,16384,null,0,z.k,[p._11,p._6],{ngIf:[0,"ngIf"]},null),(n()(),p._55(-1,2,["\n            "]))],function(n,l){var e=l.component;n(l,9,0,e.overallFeedkbackRequired);n(l,14,0,e.feedbackControl,e.component,e.workshop.coursemodule,!0,"module",e.workshop.coursemodule,"feedbackauthor_editor",n(l,15,0,e.assessmentId));n(l,18,0,e.overallFeedkbackRequired&&e.fieldErrors&&e.fieldErrors.feedbackauthor)},function(n,l){n(l,10,0,p._56(l,10,0,p._44(l,11).transform("addon.mod_workshop.feedbackauthor")))})}function s(n){return p._57(0,[(n()(),p._31(0,0,null,null,1,"core-attachments",[],null,null,null,J.b,J.a)),p._30(1,114688,null,0,K.a,[Y.a,w.a,R.a,Q.a,x.a,X.a],{files:[0,"files"],maxSize:[1,"maxSize"],maxSubmissions:[2,"maxSubmissions"],component:[3,"component"],componentId:[4,"componentId"],allowOffline:[5,"allowOffline"]},null)],function(n,l){var e=l.component;n(l,1,0,e.data.assessment.feedbackattachmentfiles,e.workshop.overallfeedbackmaxbytes,e.workshop.overallfeedbackfiles,e.component,e.componentId,!0)},null)}function r(n){return p._57(0,[(n()(),p._31(0,0,null,null,2,"ion-option",[],null,null,null,null,null)),p._30(1,16384,[[11,4]],0,Z.a,[p.t],{value:[0,"value"]},null),(n()(),p._55(2,null,["",""]))],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,2,0,l.context.$implicit)})}function i(n){return p._57(0,[(n()(),p._31(0,0,null,null,24,"ion-item",[["class","item item-block"]],null,null,null,E.b,E.a)),p._30(1,1097728,null,3,L.a,[V.a,O.a,p.t,p.V,[2,j.a]],null,null),p._52(335544320,8,{contentLabel:0}),p._52(603979776,9,{_buttons:1}),p._52(603979776,10,{_icons:1}),p._30(5,16384,null,0,S.a,[],null,null),(n()(),p._55(-1,2,["\n                "])),(n()(),p._31(7,0,null,1,4,"ion-label",[["stacked",""]],null,null,null,D.b,D.a)),p._30(8,16384,[[8,4]],0,F.a,[O.a,p.t,p.V,[8,null],[8,""],[8,null],[8,null]],null,null),p._30(9,4308992,null,0,A.a,[p.t,x.a,R.a,U.a],{coreMarkRequired:[0,"coreMarkRequired"]},null),(n()(),p._55(10,0,["",""])),p._47(131072,y.a,[x.a,p.j]),(n()(),p._55(-1,2,["\n                "])),(n()(),p._31(13,0,null,3,10,"ion-select",[["interface","action-sheet"]],[[2,"select-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keyup.space"]],function(n,l,e){var a=!0,t=n.component;if("click"===l){a=!1!==p._44(n,14)._click(e)&&a}if("keyup.space"===l){a=!1!==p._44(n,14)._keyup()&&a}if("ngModelChange"===l){a=!1!==(t.weight=e)&&a}return a},nn.b,nn.a)),p._30(14,1228800,null,1,ln.a,[en.a,V.a,O.a,p.t,p.V,[2,L.a],an.a],{interface:[0,"interface"]},null),p._52(603979776,11,{options:1}),p._50(1024,null,tn.l,function(n){return[n]},[ln.a]),p._30(17,671744,null,0,tn.q,[[2,tn.b],[8,null],[8,null],[2,tn.l]],{model:[0,"model"]},{update:"ngModelChange"}),p._50(2048,null,tn.m,null,[tn.q]),p._30(19,16384,null,0,tn.n,[tn.m],null,null),(n()(),p._55(-1,null,["\n                    "])),(n()(),p._26(16777216,null,null,1,null,r)),p._30(22,802816,null,0,z.j,[p._11,p._6,p.E],{ngForOf:[0,"ngForOf"]},null),(n()(),p._55(-1,null,["\n                "])),(n()(),p._55(-1,2,["\n            "]))],function(n,l){var e=l.component;n(l,9,0,!0);n(l,14,0,"action-sheet");n(l,17,0,e.weight);n(l,22,0,e.weights)},function(n,l){n(l,10,0,p._56(l,10,0,p._44(l,11).transform("addon.mod_workshop.assessmentweight")));n(l,13,0,p._44(l,14)._disabled,p._44(l,19).ngClassUntouched,p._44(l,19).ngClassTouched,p._44(l,19).ngClassPristine,p._44(l,19).ngClassDirty,p._44(l,19).ngClassValid,p._44(l,19).ngClassInvalid,p._44(l,19).ngClassPending)})}function _(n){return p._57(0,[(n()(),p._31(0,0,null,null,9,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,E.b,E.a)),p._30(1,1097728,null,3,L.a,[V.a,O.a,p.t,p.V,[2,j.a]],null,null),p._52(335544320,12,{contentLabel:0}),p._52(603979776,13,{_buttons:1}),p._52(603979776,14,{_icons:1}),p._30(5,16384,null,0,S.a,[],null,null),(n()(),p._55(-1,2,["\n                "])),(n()(),p._31(7,16777216,null,2,1,"core-format-text",[["contextLevel","module"]],null,null,null,null,null)),p._30(8,540672,null,0,un.a,[p.t,T.a,w.a,R.a,x.a,H.a,U.a,q.a,k.a,$.a,Y.a,on.a,[2,I.a],[2,N.a],[2,sn.a],rn.a,B.a,_n.a,cn.a,dn.a,p._11],{text:[0,"text"],component:[1,"component"],componentId:[2,"componentId"],contextLevel:[3,"contextLevel"],contextInstanceId:[4,"contextInstanceId"],courseId:[5,"courseId"]},null),(n()(),p._55(-1,2,["\n            "]))],function(n,l){var e=l.component;n(l,8,0,e.data.assessment.feedbackauthor,e.component,e.componentId,"module",e.workshop.coursemodule,e.workshop.course)},null)}function c(n){return p._57(0,[(n()(),p._31(0,0,null,null,1,"core-file",[],null,null,null,fn.b,fn.a)),p._30(1,245760,null,0,mn.a,[T.a,U.a,w.a,$.a,Y.a,hn.a,gn.a,B.a,R.a,pn.a,q.a],{file:[0,"file"],component:[1,"component"],componentId:[2,"componentId"]},null)],function(n,l){var e=l.component;n(l,1,0,l.parent.context.$implicit,e.component,e.componentId)},null)}function d(n){return p._57(0,[(n()(),p._31(0,0,null,null,1,"core-local-file",[],null,null,null,vn.b,vn.a)),p._30(1,114688,null,0,bn.a,[gn.a,U.a,R.a,kn.a,w.a,In.a,T.a,B.a],{file:[0,"file"]},null)],function(n,l){n(l,1,0,l.parent.context.$implicit)},null)}function f(n){return p._57(0,[(n()(),p._31(0,0,null,null,9,null,null,null,null,null,null,null)),(n()(),p._55(-1,null,["\n                        "])),(n()(),p._55(-1,null,["\n                        "])),(n()(),p._26(16777216,null,null,1,null,c)),p._30(4,16384,null,0,z.k,[p._11,p._6],{ngIf:[0,"ngIf"]},null),(n()(),p._55(-1,null,["\n                        "])),(n()(),p._55(-1,null,["\n                        "])),(n()(),p._26(16777216,null,null,1,null,d)),p._30(8,16384,null,0,z.k,[p._11,p._6],{ngIf:[0,"ngIf"]},null),(n()(),p._55(-1,null,["\n                    "]))],function(n,l){n(l,4,0,!l.context.$implicit.name);n(l,8,0,l.context.$implicit.name)},null)}function m(n){return p._57(0,[(n()(),p._31(0,0,null,null,12,"ion-item",[["class","item item-block"]],null,null,null,E.b,E.a)),p._30(1,1097728,null,3,L.a,[V.a,O.a,p.t,p.V,[2,j.a]],null,null),p._52(335544320,15,{contentLabel:0}),p._52(603979776,16,{_buttons:1}),p._52(603979776,17,{_icons:1}),p._30(5,16384,null,0,S.a,[],null,null),(n()(),p._55(-1,2,["\n                "])),(n()(),p._31(7,0,null,2,4,"div",[["no-lines",""]],null,null,null,null,null)),(n()(),p._55(-1,null,["\n                    "])),(n()(),p._26(16777216,null,null,1,null,f)),p._30(10,802816,null,0,z.j,[p._11,p._6,p.E],{ngForOf:[0,"ngForOf"]},null),(n()(),p._55(-1,null,["\n                "])),(n()(),p._55(-1,2,["\n            "]))],function(n,l){n(l,10,0,l.component.data.assessment.feedbackattachmentfiles)},null)}function h(n){return p._57(0,[(n()(),p._31(0,0,null,null,29,"ion-card",[],null,null,null,null,null)),p._30(1,16384,null,0,wn.a,[O.a,p.t,p.V],null,null),(n()(),p._55(-1,null,["\n            "])),(n()(),p._31(3,0,null,null,10,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,E.b,E.a)),p._30(4,1097728,null,3,L.a,[V.a,O.a,p.t,p.V,[2,j.a]],null,null),p._52(335544320,2,{contentLabel:0}),p._52(603979776,3,{_buttons:1}),p._52(603979776,4,{_icons:1}),p._30(8,16384,null,0,S.a,[],null,null),(n()(),p._55(-1,2,["\n                "])),(n()(),p._31(10,0,null,2,2,"h2",[],null,null,null,null,null)),(n()(),p._55(11,null,["",""])),p._47(131072,y.a,[x.a,p.j]),(n()(),p._55(-1,2,["\n            "])),(n()(),p._55(-1,null,["\n            "])),(n()(),p._26(16777216,null,null,1,null,o)),p._30(16,16384,null,0,z.k,[p._11,p._6],{ngIf:[0,"ngIf"]},null),(n()(),p._55(-1,null,["\n            "])),(n()(),p._26(16777216,null,null,1,null,s)),p._30(19,16384,null,0,z.k,[p._11,p._6],{ngIf:[0,"ngIf"]},null),(n()(),p._55(-1,null,["\n            "])),(n()(),p._26(16777216,null,null,1,null,i)),p._30(22,16384,null,0,z.k,[p._11,p._6],{ngIf:[0,"ngIf"]},null),(n()(),p._55(-1,null,["\n            "])),(n()(),p._26(16777216,null,null,1,null,_)),p._30(25,16384,null,0,z.k,[p._11,p._6],{ngIf:[0,"ngIf"]},null),(n()(),p._55(-1,null,["\n            "])),(n()(),p._26(16777216,null,null,1,null,m)),p._30(28,16384,null,0,z.k,[p._11,p._6],{ngIf:[0,"ngIf"]},null),(n()(),p._55(-1,null,["\n        "]))],function(n,l){var e=l.component;n(l,16,0,e.edit);n(l,19,0,e.edit&&e.workshop.overallfeedbackfiles);n(l,22,0,e.edit&&e.access&&e.access.canallocate);n(l,25,0,!e.edit&&e.data.assessment.feedbackauthor);n(l,28,0,!e.edit&&e.workshop.overallfeedbackfiles&&e.data.assessment.feedbackattachmentfiles&&e.data.assessment.feedbackattachmentfiles.length)},function(n,l){n(l,11,0,p._56(l,11,0,p._44(l,12).transform("addon.mod_workshop.overallfeedback")))})}function g(n){return p._57(0,[p._52(402653184,1,{formElement:0}),(n()(),p._31(1,0,null,null,2,"h3",[["padding",""]],null,null,null,null,null)),(n()(),p._55(2,null,["",""])),p._47(131072,y.a,[x.a,p.j]),(n()(),p._55(-1,null,["\n\n"])),(n()(),p._31(5,0,[[1,0],["assessmentForm",1]],null,18,"form",[["name","mma-mod_workshop-assessment-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var a=!0;if("submit"===l){a=!1!==p._44(n,7).onSubmit(e)&&a}if("reset"===l){a=!1!==p._44(n,7).onReset()&&a}return a},null,null)),p._30(6,16384,null,0,tn.w,[],null,null),p._30(7,4210688,null,0,tn.p,[[8,null],[8,null]],null,null),p._50(2048,null,tn.b,null,[tn.p]),p._30(9,16384,null,0,tn.o,[tn.b],null,null),(n()(),p._55(-1,null,["\n    "])),(n()(),p._31(11,0,null,null,11,"core-loading",[],null,null,null,yn.b,yn.a)),p._30(12,638976,null,0,xn.a,[x.a,p.t,B.a,U.a],{hideUntil:[0,"hideUntil"]},null),(n()(),p._55(-1,0,["\n        "])),(n()(),p._26(16777216,null,0,1,null,a)),p._30(15,16384,null,0,z.k,[p._11,p._6],{ngIf:[0,"ngIf"]},null),(n()(),p._55(-1,0,["\n\n        "])),(n()(),p._26(16777216,null,0,1,null,t)),p._30(18,16384,null,0,z.k,[p._11,p._6],{ngIf:[0,"ngIf"]},null),(n()(),p._55(-1,0,["\n\n        "])),(n()(),p._26(16777216,null,0,1,null,h)),p._30(21,16384,null,0,z.k,[p._11,p._6],{ngIf:[0,"ngIf"]},null),(n()(),p._55(-1,0,["\n    "])),(n()(),p._55(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,12,0,e.assessmentStrategyLoaded);n(l,15,0,e.componentClass&&e.assessmentStrategyLoaded);n(l,18,0,e.notSupported);n(l,21,0,e.assessmentStrategyLoaded&&e.overallFeedkback&&(e.edit||e.data.assessment.feedbackauthor||e.data.assessment.feedbackattachmentfiles&&e.data.assessment.feedbackattachmentfiles.length))},function(n,l){n(l,2,0,p._56(l,2,0,p._44(l,3).transform("addon.mod_workshop.assessmentform")));n(l,5,0,p._44(l,9).ngClassUntouched,p._44(l,9).ngClassTouched,p._44(l,9).ngClassPristine,p._44(l,9).ngClassDirty,p._44(l,9).ngClassValid,p._44(l,9).ngClassInvalid,p._44(l,9).ngClassPending)})}e.d(l,"a",function(){return Sn}),l.b=g;var p=e(0),v=e(723),b=e(198),k=e(6),I=e(20),w=e(4),y=e(25),x=e(18),C=e(103),P=e(94),E=e(31),L=e(21),V=e(19),O=e(8),j=e(27),S=e(33),D=e(93),F=e(67),A=e(84),R=e(11),U=e(2),M=e(272),G=e(250),q=e(22),T=e(1),$=e(17),N=e(29),B=e(9),H=e(16),W=e(216),z=e(7),J=e(481),K=e(316),Y=e(10),Q=e(72),X=e(149),Z=e(108),nn=e(123),ln=e(109),en=e(35),an=e(59),tn=e(23),un=e(47),on=e(15),sn=e(28),rn=e(42),_n=e(40),cn=e(30),dn=e(36),fn=e(249),mn=e(215),hn=e(115),gn=e(66),pn=e(56),vn=e(745),bn=e(382),kn=e(57),In=e(24),wn=e(89),yn=e(54),xn=e(51),Cn=e(1552),Pn=e(177),En=e(81),Ln=e(175),Vn=e(202),On=e(189),jn=e(192),Sn=p._29({encapsulation:2,styles:[],data:{}});p._27("addon-mod-workshop-assessment-strategy",Cn.a,function(n){return p._57(0,[(n()(),p._31(0,0,null,null,1,"addon-mod-workshop-assessment-strategy",[],null,null,null,g,Sn)),p._30(1,245760,null,0,Cn.a,[x.a,p.C,B.a,Pn.a,En.a,w.a,R.a,U.a,T.a,Q.a,Ln.a,Vn.a,On.a,jn.a],null,null)],function(n,l){n(l,1,0)},null)},{workshop:"workshop",access:"access",assessmentId:"assessmentId",userId:"userId",strategy:"strategy",edit:"edit"},{},[])}});