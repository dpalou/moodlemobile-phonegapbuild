webpackJsonp([22],{2040:function(l,n,u){"use strict";function e(l){return r._57(0,[(l()(),r._31(0,0,null,null,1,"core-courses-course-list-item",[],null,null,null,M.b,M.a)),r._30(1,114688,null,0,D.a,[[2,E.a],B.a,f.a,S.a],{course:[0,"course"]},null)],function(l,n){l(n,1,0,n.context.$implicit)},null)}function t(l){return r._57(0,[(l()(),r._31(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),r._55(-1,null,["\n            "])),(l()(),r._26(16777216,null,null,1,null,e)),r._30(3,802816,null,0,T.j,[r._11,r._6,r.E],{ngForOf:[0,"ngForOf"]},null),(l()(),r._55(-1,null,["\n        "]))],function(l,n){l(n,3,0,n.component.courses)},null)}function a(l){return r._57(0,[(l()(),r._31(0,0,null,null,2,"core-empty-box",[["icon","ionic"]],null,null,null,W.b,W.a)),r._30(1,49152,null,0,A.a,[],{message:[0,"message"],icon:[1,"icon"]},null),r._47(131072,G.a,[B.a,r.j])],function(l,n){l(n,1,0,r._56(n,1,0,r._44(n,2).transform("core.courses.nocourses")),"ionic")},null)}function o(l){return r._57(0,[(l()(),r._31(0,0,null,null,12,"ion-header",[],null,null,null,null,null)),r._30(1,16384,null,0,H.a,[J.a,r.t,r.V,[2,K.a]],null,null),(l()(),r._55(-1,null,["\n    "])),(l()(),r._31(3,0,null,null,8,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,N.b,N.a)),r._30(4,49152,null,0,q.a,[z.a,[2,K.a],[2,E.a],J.a,r.t,r.V],null,null),r._30(5,212992,null,0,Q.a,[q.a,X.a,B.a,Y.a],null,null),(l()(),r._55(-1,3,["\n        "])),(l()(),r._31(7,0,null,3,3,"ion-title",[],null,null,null,Z.b,Z.a)),r._30(8,49152,null,0,ll.a,[J.a,r.t,r.V,[2,nl.a],[2,q.a]],null,null),(l()(),r._55(9,0,["",""])),r._47(131072,G.a,[B.a,r.j]),(l()(),r._55(-1,3,["\n    "])),(l()(),r._55(-1,null,["\n"])),(l()(),r._55(-1,null,["\n"])),(l()(),r._31(14,0,null,null,20,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,ul.b,ul.a)),r._30(15,4374528,null,0,el.a,[J.a,X.a,tl.a,r.t,r.V,z.a,al.a,r.M,[2,K.a],[2,E.a]],null,null),(l()(),r._55(-1,1,["\n    "])),(l()(),r._31(17,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(l,n,u){var e=!0;if("ionRefresh"===n){e=!1!==l.component.refreshCourses(u)&&e}return e},null,null)),r._30(18,212992,null,0,ol.a,[X.a,el.a,r.M,rl.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(l()(),r._55(-1,null,["\n        "])),(l()(),r._31(20,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,il.b,il.a)),r._30(21,114688,null,0,cl.a,[ol.a,J.a],{pullingText:[0,"pullingText"]},null),r._47(131072,G.a,[B.a,r.j]),(l()(),r._55(-1,null,["\n    "])),(l()(),r._55(-1,1,["\n    "])),(l()(),r._31(25,0,null,1,8,"core-loading",[],null,null,null,sl.b,sl.a)),r._30(26,638976,null,0,_l.a,[B.a,r.t,Y.a,fl.a],{hideUntil:[0,"hideUntil"]},null),(l()(),r._55(-1,0,["\n        "])),(l()(),r._26(16777216,null,0,1,null,t)),r._30(29,16384,null,0,T.k,[r._11,r._6],{ngIf:[0,"ngIf"]},null),(l()(),r._55(-1,0,["\n        "])),(l()(),r._26(16777216,null,0,1,null,a)),r._30(32,16384,null,0,T.k,[r._11,r._6],{ngIf:[0,"ngIf"]},null),(l()(),r._55(-1,0,["\n    "])),(l()(),r._55(-1,1,["\n"])),(l()(),r._55(-1,null,["\n"]))],function(l,n){var u=n.component;l(n,5,0);l(n,18,0,u.coursesLoaded);l(n,21,0,r._34(1,"",r._56(n,21,0,r._44(n,22).transform("core.pulltorefresh")),""));l(n,26,0,u.coursesLoaded);l(n,29,0,u.courses.length>0);l(n,32,0,!u.courses.length)},function(l,n){l(n,3,0,r._44(n,4)._hidden,r._44(n,4)._sbPadding);l(n,9,0,r._56(n,9,0,r._44(n,10).transform("core.courses.availablecourses")));l(n,14,0,r._44(n,15).statusbarPadding,r._44(n,15)._hasRefresher);l(n,17,0,"inactive"!==r._44(n,18).state,r._44(n,18)._top);l(n,20,0,r._44(n,21).r.state)})}Object.defineProperty(n,"__esModule",{value:!0});var r=u(0),i=u(5),c=u(3),s=u(1),_=u(4),f=u(52),d=this&&this.__decorate||function(l,n,u,e){var t,a=arguments.length,o=a<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,u):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(l,n,u,e);else for(var r=l.length-1;r>=0;r--)(t=l[r])&&(o=(a<3?t(o):a>3?t(n,u,o):t(n,u))||o);return a>3&&o&&Object.defineProperty(n,u,o),o},p=this&&this.__metadata||function(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,n)},b=function(){function l(l,n,u){this.coursesProvider=l,this.domUtils=n,this.sitesProvider=u,this.courses=[]}return l.prototype.ionViewDidLoad=function(){var l=this;this.loadCourses().finally(function(){l.coursesLoaded=!0})},l.prototype.loadCourses=function(){var l=this,n=this.sitesProvider.getCurrentSite().getSiteHomeId();return this.coursesProvider.getCoursesByField().then(function(u){l.courses=u.filter(function(l){return l.id!=n})}).catch(function(n){l.domUtils.showErrorModalDefault(n,"core.courses.errorloadcourses",!0)})},l.prototype.refreshCourses=function(l){var n=this,u=[];u.push(this.coursesProvider.invalidateUserCourses()),u.push(this.coursesProvider.invalidateCoursesByField()),Promise.all(u).finally(function(){n.loadCourses().finally(function(){l.complete()})})},l=d([Object(r.m)({selector:"page-core-courses-available-courses",templateUrl:"available-courses.html"}),p("design:paramtypes",[f.a,_.a,s.a])],l)}(),m=u(26),h=u(31),g=u(277),v=this&&this.__decorate||function(l,n,u,e){var t,a=arguments.length,o=a<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,u):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(l,n,u,e);else for(var r=l.length-1;r>=0;r--)(t=l[r])&&(o=(a<3?t(o):a>3?t(n,u,o):t(n,u))||o);return a>3&&o&&Object.defineProperty(n,u,o),o},y=function(){function l(){}return l=v([Object(r.I)({declarations:[b],imports:[m.a,h.a,g.a,i.l.forChild(b),c.b.forChild()]})],l)}(),x=u(1522),j=u(1523),I=u(1524),C=u(1525),P=u(1526),R=u(1527),O=u(1528),k=u(1529),w=u(1530),L=u(1531),F=u(1532),V=u(1533),$=u(1534),U=u(1554),M=u(2131),D=u(1543),E=u(21),B=u(17),S=u(38),T=u(7),W=u(124),A=u(114),G=u(25),H=u(370),J=u(8),K=u(39),N=u(721),q=u(211),z=u(35),Q=u(473),X=u(16),Y=u(9),Z=u(722),ll=u(314),nl=u(247),ul=u(181),el=u(29),tl=u(34),al=u(107),ol=u(159),rl=u(43),il=u(212),cl=u(173),sl=u(54),_l=u(51),fl=u(2),dl=r._29({encapsulation:2,styles:[],data:{}}),pl=r._27("page-core-courses-available-courses",b,function(l){return r._57(0,[(l()(),r._31(0,0,null,null,1,"page-core-courses-available-courses",[],null,null,null,o,dl)),r._30(1,49152,null,0,b,[f.a,_.a,s.a],null,null)],null,null)},{},{},[]),bl=u(23),ml=u(366),hl=u(367),gl=u(369),vl=u(368),yl=u(472),xl=u(720),jl=u(106),Il=u(270);u.d(n,"CoreCoursesAvailableCoursesPageModuleNgFactory",function(){return Cl});var Cl=r._28(y,[],function(l){return r._40([r._41(512,r.o,r._21,[[8,[x.a,j.a,I.a,C.a,P.a,R.a,O.a,k.a,w.a,L.a,F.a,V.a,$.a,U.a,pl]],[3,r.o],r.K]),r._41(4608,T.m,T.l,[r.G,[2,T.w]]),r._41(4608,bl.x,bl.x,[]),r._41(4608,bl.d,bl.d,[]),r._41(4608,ml.b,ml.a,[]),r._41(4608,hl.a,hl.b,[]),r._41(4608,gl.b,gl.a,[]),r._41(4608,vl.b,vl.a,[]),r._41(4608,B.a,B.a,[yl.a,ml.b,hl.a,gl.b,vl.b,B.b,B.c]),r._41(512,T.b,T.b,[]),r._41(512,bl.v,bl.v,[]),r._41(512,bl.i,bl.i,[]),r._41(512,bl.s,bl.s,[]),r._41(512,xl.a,xl.a,[]),r._41(512,c.b,c.b,[]),r._41(512,h.a,h.a,[]),r._41(512,jl.a,jl.a,[]),r._41(512,m.a,m.a,[]),r._41(512,g.a,g.a,[]),r._41(512,xl.b,xl.b,[]),r._41(512,y,y,[]),r._41(256,B.c,void 0,[]),r._41(256,B.b,void 0,[]),r._41(256,Il.a,b,[])])})},2131:function(l,n,u){"use strict";function e(l){return i._57(0,[(l()(),i._31(0,0,null,null,1,"core-icon",[],null,null,null,c.b,c.a)),i._30(1,704512,null,0,s.a,[i.t,_.a],{name:[0,"name"]},null)],function(l,n){l(n,1,0,n.parent.context.$implicit.icon)},null)}function t(l){return i._57(0,[(l()(),i._31(0,0,null,null,0,"img",[["class","core-course-enrollment-img"]],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,n.parent.context.$implicit.img)})}function a(l){return i._57(0,[(l()(),i._31(0,0,null,null,9,"span",[["clear",""],["color","gray"],["icon-only",""],["ion-button",""]],[[1,"aria-label",0]],null,null,f.b,f.a)),i._30(1,1097728,[[2,4]],0,d.a,[[8,""],_.a,i.t,i.V],{color:[0,"color"],clear:[1,"clear"]},null),i._47(131072,p.a,[b.a,i.j]),(l()(),i._55(-1,0,["\n                "])),(l()(),i._26(16777216,null,0,1,null,e)),i._30(5,16384,null,0,m.k,[i._11,i._6],{ngIf:[0,"ngIf"]},null),(l()(),i._55(-1,0,["\n                "])),(l()(),i._26(16777216,null,0,1,null,t)),i._30(8,16384,null,0,m.k,[i._11,i._6],{ngIf:[0,"ngIf"]},null),(l()(),i._55(-1,0,["\n            "]))],function(l,n){l(n,1,0,"gray","");l(n,5,0,n.context.$implicit.icon);l(n,8,0,n.context.$implicit.img&&!n.context.$implicit.icon)},function(l,n){l(n,0,0,i._56(n,0,0,i._44(n,2).transform(n.context.$implicit.name)))})}function o(l){return i._57(0,[(l()(),i._31(0,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),i._55(-1,null,["\n            "])),(l()(),i._26(16777216,null,null,1,null,a)),i._30(3,802816,null,0,m.j,[i._11,i._6,i.E],{ngForOf:[0,"ngForOf"]},null),(l()(),i._55(-1,null,["\n        "]))],function(l,n){l(n,3,0,n.component.course.enrollment)},null)}function r(l){return i._57(0,[(l()(),i._31(0,0,null,null,19,"a",[["class","item item-block"],["ion-item",""],["text-wrap",""]],[[2,"item-disabled",null],[8,"title",0]],[[null,"click"]],function(l,n,u){var e=!0,t=l.component;if("click"===n){e=!1!==t.openCourse(t.course)&&e}return e},h.b,h.a)),i._30(1,1097728,null,3,g.a,[v.a,_.a,i.t,i.V,[2,y.a]],null,null),i._52(335544320,1,{contentLabel:0}),i._52(603979776,2,{_buttons:1}),i._52(603979776,3,{_icons:1}),i._30(5,16384,null,0,x.a,[],null,null),(l()(),i._55(-1,2,["\n    "])),(l()(),i._31(7,0,null,0,1,"core-icon",[["fixed-width",""],["item-start",""],["name","fa-graduation-cap"]],null,null,null,c.b,c.a)),i._30(8,704512,null,0,s.a,[i.t,_.a],{name:[0,"name"],fixedWidth:[1,"fixedWidth"]},null),(l()(),i._55(-1,2,["\n    "])),(l()(),i._31(10,0,null,2,2,"h2",[],null,null,null,null,null)),(l()(),i._31(11,16777216,null,null,1,"core-format-text",[["contextLevel","course"]],null,null,null,null,null)),i._30(12,540672,null,0,j.a,[i.t,I.a,C.a,P.a,b.a,R.a,O.a,k.a,w.a,L.a,F.a,V.a,[2,$.a],[2,U.a],[2,M.a],D.a,E.a,B.a,S.a,T.a,i._11],{text:[0,"text"],contextLevel:[1,"contextLevel"],contextInstanceId:[2,"contextInstanceId"]},null),(l()(),i._55(-1,2,["\n    "])),(l()(),i._31(14,0,null,4,4,"div",[["item-end",""]],null,null,null,null,null)),(l()(),i._55(-1,null,["\n        "])),(l()(),i._26(16777216,null,null,1,null,o)),i._30(17,16384,null,0,m.k,[i._11,i._6],{ngIf:[0,"ngIf"]},null),(l()(),i._55(-1,null,["\n    "])),(l()(),i._55(-1,2,["\n"])),(l()(),i._55(-1,null,["\n"]))],function(l,n){var u=n.component;l(n,8,0,"fa-graduation-cap","");l(n,12,0,u.course.displayname||u.course.fullname,"course",u.course.id);l(n,17,0,!u.course.isEnrolled)},function(l,n){var u=n.component;l(n,0,0,0==u.course.visible,u.course.displayname||u.course.fullname)})}u.d(n,"a",function(){return H}),n.b=r;var i=u(0),c=u(80),s=u(75),_=u(8),f=u(45),d=u(42),p=u(25),b=u(17),m=u(7),h=u(30),g=u(20),v=u(19),y=u(27),x=u(33),j=u(48),I=u(1),C=u(4),P=u(11),R=u(16),O=u(2),k=u(22),w=u(6),L=u(18),F=u(10),V=u(15),$=u(21),U=u(29),M=u(28),D=u(44),E=u(9),B=u(41),S=u(32),T=u(36),W=u(1543),A=u(52),G=u(38),H=i._29({encapsulation:2,styles:[],data:{}});i._27("core-courses-course-list-item",W.a,function(l){return i._57(0,[(l()(),i._31(0,0,null,null,1,"core-courses-course-list-item",[],null,null,null,r,H)),i._30(1,114688,null,0,W.a,[[2,$.a],b.a,A.a,G.a],null,null)],function(l,n){l(n,1,0)},null)},{course:"course"},{},[])}});